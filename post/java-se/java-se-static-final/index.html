<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Java SE从入门到跑路（五·static与final：静与常的艺术） | SteamedFish&#39;s Blog</title>
<meta name="keywords" content="Java, Java SE, OOP, static, 教学, final">
<meta name="description" content="前言
在学完类与对象之后，你已经可以独立地定义自己的世界：
创建对象、设计方法、组织数据。   
但在实际开发中，我们常常会遇到这样的问题：
有些东西不需要属于某个对象，而应该属于整个类；
有些值从头到尾都不该被修改。
于是，Java 为我们提供了两个关键字——static 和 final。 
前者让你在“对象之外”思考，构建共享与独立的概念； 
后者让你定义不变与稳定的规则。">
<meta name="author" content="">
<link rel="canonical" href="https://www.steamedfish.top/post/java-se/java-se-static-final/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f1d179fd7d33e9bd1a3ecb8e8b40a80d90ffdf3a9958f70502e9b648b3e2649b.css" integrity="sha256-8dF5/X0z6b0aPsuOi0CoDZD/3zqZWPcFAum2SLPiZJs=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.steamedfish.top/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.steamedfish.top/favicon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.steamedfish.top/favicon.png">
<link rel="apple-touch-icon" href="https://www.steamedfish.top/favicon.png">
<link rel="mask-icon" href="https://www.steamedfish.top/favicon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://www.steamedfish.top/post/java-se/java-se-static-final/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>





<link
  href="/fonts/lxgw/style.css"
  rel="stylesheet"
/><meta property="og:url" content="https://www.steamedfish.top/post/java-se/java-se-static-final/">
  <meta property="og:site_name" content="SteamedFish&#39;s Blog">
  <meta property="og:title" content="Java SE从入门到跑路（五·static与final：静与常的艺术）">
  <meta property="og:description" content="前言 在学完类与对象之后，你已经可以独立地定义自己的世界： 创建对象、设计方法、组织数据。 但在实际开发中，我们常常会遇到这样的问题：
有些东西不需要属于某个对象，而应该属于整个类；
有些值从头到尾都不该被修改。
于是，Java 为我们提供了两个关键字——static 和 final。 前者让你在“对象之外”思考，构建共享与独立的概念； 后者让你定义不变与稳定的规则。">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2025-10-30T07:46:37+00:00">
    <meta property="article:modified_time" content="2025-11-06T17:32:53+08:00">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="Java SE">
    <meta property="article:tag" content="OOP">
    <meta property="article:tag" content="Static">
    <meta property="article:tag" content="教学">
    <meta property="article:tag" content="Final">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java SE从入门到跑路（五·static与final：静与常的艺术）">
<meta name="twitter:description" content="前言
在学完类与对象之后，你已经可以独立地定义自己的世界：
创建对象、设计方法、组织数据。   
但在实际开发中，我们常常会遇到这样的问题：
有些东西不需要属于某个对象，而应该属于整个类；
有些值从头到尾都不该被修改。
于是，Java 为我们提供了两个关键字——static 和 final。 
前者让你在“对象之外”思考，构建共享与独立的概念； 
后者让你定义不变与稳定的规则。">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.steamedfish.top/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Java SE从入门到跑路（五·static与final：静与常的艺术）",
      "item": "https://www.steamedfish.top/post/java-se/java-se-static-final/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Java SE从入门到跑路（五·static与final：静与常的艺术）",
  "name": "Java SE从入门到跑路（五·static与final：静与常的艺术）",
  "description": "前言 在学完类与对象之后，你已经可以独立地定义自己的世界： 创建对象、设计方法、组织数据。 但在实际开发中，我们常常会遇到这样的问题：\n有些东西不需要属于某个对象，而应该属于整个类；\n有些值从头到尾都不该被修改。\n于是，Java 为我们提供了两个关键字——static 和 final。 前者让你在“对象之外”思考，构建共享与独立的概念； 后者让你定义不变与稳定的规则。\n",
  "keywords": [
    "Java", "Java SE", "OOP", "static", "教学", "final"
  ],
  "articleBody": "前言 在学完类与对象之后，你已经可以独立地定义自己的世界： 创建对象、设计方法、组织数据。 但在实际开发中，我们常常会遇到这样的问题：\n有些东西不需要属于某个对象，而应该属于整个类；\n有些值从头到尾都不该被修改。\n于是，Java 为我们提供了两个关键字——static 和 final。 前者让你在“对象之外”思考，构建共享与独立的概念； 后者让你定义不变与稳定的规则。\nstatic关键字 1. static 是什么？ static 是 Java 中的一个关键字，用来修饰 成员变量、方法、代码块 和 内部类。\n当某个成员被声明为 static 时：\n它不再属于某个对象； 而是被整个类共享； 在内存中只存在一份。 简单来说，就是：\n“类的属性，不用对象也能访问。”\n2.静态变量( static 修饰的变量) 我们先看一个例子：\nclass Student { String name; // 每个学生有自己的名字 static String school = \"芭乐高中\"; // 所有学生共用同一个学校名 } 使用方式：\npublic class Demo { public static void main(String[] args) { Student s1 = new Student(); s1.name = \"汪东城\"; Student s2 = new Student(); s2.name = \"雷婷\"; System.out.println(s1.name + \" - \" + s1.school); System.out.println(s2.name + \" - \" + s2.school); } } 输出结果：\n汪东城 - 芭乐高中 雷婷 - 芭乐高中 如果修改 school：\nStudent.school = \"热血高校\"; 再打印，你会发现所有对象看到的学校名都变了。\n汪东城 - 热血高校 雷婷 - 热血高校 这说明静态变量是共享的，而非独立的。\n3.静态方法( static 修饰的方法) 静态方法属于类，不依赖于对象。 也就是说，你可以直接用 类名调用，而不是对象名。 比如 Math.sqrt():\npublic class MathDemo { public static void main(String[] args) { double x = 9; double result = Math.sqrt(x); // 调用静态方法sqrt() System.out.println(result); // 输出3.0 } } 你不需要 new Math()，因为 sqrt() 是 static 的。\n这类方法一般具有通用性，与具体对象无关。\n你也可以自己写静态方法：\nclass Tool { public static void printLine() { System.out.println(\"----------静态方法运行了----------\"); } } 调用：\nTool.printLine(); 输出：\n----------静态方法运行了---------- 4.静态代码块( static 代码块) 静态代码块在类加载时自动执行一次，常用于初始化静态变量。\nclass InitDemo { static int count; static { System.out.println(\"静态代码块执行！\"); count = 10; } } 运行：\npublic class Test { public static void main(String[] args) { System.out.println(InitDemo.count); } } 输出：\n静态代码块执行！ 10 静态代码块只在类第一次被加载时运行一次，之后不会再执行。 它适合做一些全局初始化的工作。\n5. static 的内存原理 区域\r内容\r生命周期\r栈(Stack)\r方法中的局部变量\r方法调用时创建，结束时销毁\r堆(Heap)\r对象和实例变量\r使用 new 创建，垃圾回收时销毁\r方法区(Method Area)\r类信息、静态变量、常量\r程序运行期间始终存在\rstatic 成员就存放在方法区中，它随着类加载时一起被加载到方法区中\n因此，不论你创建多少个对象，它都只有一份拷贝。\n6. static 的注意事项 静态方法不能直接访问非静态成员。\nclass Demo { int a = 10; static int b = 20; static void show() { // System.out.println(a); ❌ 报错：不能访问非静态变量 System.out.println(b); // ✅ OK } } 因为静态方法在类加载时就存在，而非静态变量要等对象创建后才存在。\n静态方法中不能使用 this 或 super。\n因为它们属于对象，而 static 属于类。\n尽量避免滥用 static。\n“能用对象解决的，就不要滥用 static。”\n共享数据固然方便，但也会增加耦合和全局状态的复杂度。\n7. 经典应用场景 场景\r示例\r说明\r工具类\rMath, Arrays, Collections\r不需要实例化\r常量类\rpublic static final double PI = 3.14159;\r定义全局常量\r计数器\r统计对象创建数量\r所有对象共享一个计数器\r单例模式\rprivate static 实例 + getInstance()\r确保类只有一个实例\r8.单例模式(Singleton Pattern) 单例模式（Singleton Pattern）是 Java 中非常经典的设计模式之一。 它的核心思想是：一个类在整个程序运行期间只能有一个对象存在。 这种模式经常用于：\n数据库连接对象 日志系统 配置管理器 游戏中“全局控制器”类等 而 static 正是实现单例模式的关键！\n单例模式分为\"懒汉式单例模式“和”饿汉式单例模式\"\n饿汉式( Eager Singleton) 饿汉式的特点是：类加载时就创建对象，不管你用不用，它都先准备好。\n优点是线程安全，简单直接；\n缺点是如果对象很大但暂时不用，会造成内存浪费。\nclass EagerSingleton { // 1. 在类加载时就创建唯一实例 private static final EagerSingleton instance = new EagerSingleton(); // 2. 构造函数私有化，防止外部new对象 private EagerSingleton() {} // 3. 提供全局访问点 public static EagerSingleton getInstance() { return instance; } } 使用方式：\npublic class Test { public static void main(String[] args) { EagerSingleton a = EagerSingleton.getInstance(); EagerSingleton b = EagerSingleton.getInstance(); System.out.println(a == b); // 输出 true，说明是同一个对象 } } 输出：\ntrue 懒汉式（Lazy Singleton） 懒汉式的特点是：第一次使用时才创建对象。 这样可以节省内存，但要注意线程安全问题。\nclass LazySingleton { private static LazySingleton instance; private LazySingleton() {} public static LazySingleton getInstance() { if (instance == null) { // 第一次调用时才创建对象 instance = new LazySingleton(); } return instance; } } 不过上面这个版本在多线程情况下会有安全问题。 所以更安全的写法是线程安全的懒汉式：\nclass SafeLazySingleton { private static SafeLazySingleton instance; private SafeLazySingleton() {} public static synchronized SafeLazySingleton getInstance() { if (instance == null) { instance = new SafeLazySingleton(); } return instance; } } 静态内部类式（推荐写法） 这是一种综合了“饿汉式的线程安全”和“懒汉式的延迟加载”的写法。 既安全又高效。\nclass Singleton { private Singleton() {} private static class Holder { private static final Singleton INSTANCE = new Singleton(); } public static Singleton getInstance() { return Holder.INSTANCE; } } 这种写法利用了 Java 的类加载机制：\nHolder 类只有在第一次调用 getInstance() 时才会被加载； 而类加载是线程安全的； 因此不用手动加锁，也不会提前占用内存。 final关键字 1. final 是什么？ final 是一个不可变修饰符，可以用来修饰：\n变量（防止被修改） 方法（防止被重写） 类（防止被继承） 它就像在你的代码上贴了个标签：\n“这东西定了，谁也别改。”\n2. final 修饰变量：值不能变 当 final 修饰变量时，它让这个变量只能被赋值一次。\n一旦赋值完成，就不能再改变。\n修饰普通变量（局部变量） public class Demo1 { public static void main(String[] args) { final int a = 10; // a = 20; // ❌ 报错：无法为最终变量 a 赋值 System.out.println(a); } } a 被声明为 final，就相当于一个“常量”。\n修饰成员变量（类中定义的变量） class Student { final String id; // 学号一旦确定就不能改 Student(String id) { this.id = id; // ✅ 构造方法中可以赋值一次 } } 只要在构造器中赋一次值，之后就不能修改：\npublic class Test { public static void main(String[] args) { Student s = new Student(\"202501\"); // s.id = \"202502\"; // ❌ 报错 System.out.println(s.id); } } 修饰静态变量（静态常量） 当 final 与 static 一起使用时，通常用于定义全局常量。\nclass Const { public static final double PI = 3.14159; } 调用：\nSystem.out.println(Const.PI); 提示\n常量的命名规范：\n常量名一般全部大写，用下划线分隔，例如：\npublic static final int MAX_SPEED = 240; 2. final 修饰方法：禁止子类重写 当你不想让子类改变父类中某个方法的实现时，可以加上 final。\nclass Animal { final void eat() { System.out.println(\"动物在吃饭\"); } } class Dog extends Animal { // void eat() { } // ❌ 报错：无法重写 final 方法 } 这样可以保护方法逻辑不被修改。\n3. final 修饰类：禁止被继承 有些类我们希望别人只能用，不能改，比如 String、Math、System。\nfinal class Tool { public static void help() { System.out.println(\"这是一个工具类\"); } } // class MyTool extends Tool { } // ❌ 报错：无法继承 final 类 这可以防止框架或库被随意扩展，保持安全与稳定。\n4. final 修饰引用类型（难点） final 修饰引用变量时，表示引用本身不能改，但引用指向的对象内容可以改。\nclass Person { String name; } public class Demo2 { public static void main(String[] args) { final Person p = new Person(); p.name = \"小明\"; // ✅ 内容能改 // p = new Person(); // ❌ 报错：引用不能指向新的对象 } } 理解关键点：\nfinal 限制的是“地址不变”，不是“内容不变”。\n5. final 的使用场景 场景\r示例\r说明\r定义常量\rpublic static final double PI = 3.14159;\r值不可改\r保护方法\rfinal void run()\r不允许重写\r安全类\rfinal class Math {}\r不允许继承\r不变引用\rfinal Student s = new Student()\r地址不变\r6. final 与 static 的区别 对比点\rstatic\rfinal\r含义\r属于类\r不可修改\r修饰变量\r所有对象共享\r值不可变\r修饰方法\r可类调用\r不可重写\r修饰类\r内部类可用\r不能被继承\r内存位置\r方法区\r不影响位置\r二者也可以一起使用（最常见的组合）：\npublic static final String AUTHOR = \"Lucian\"; 含义是：\n这个变量属于类（static），而且不能改（final）。\n7.final 的本质：一次性赋值 从底层上讲，final 只是告诉 JVM：\n“这个变量在初始化后不能再被赋值。”\n这意味着编译器可以进行优化，比如内联常量（在编译时直接替换值）。\n面试常见题 1️⃣ final 修饰的变量一定是常量吗？ 不是。\n只有 static final 并且在编译期能确定值的才是编译期常量。\nfinal int x = new Random().nextInt(); // 运行时赋值，不是编译期常量 2️⃣ final 引用对象能改内容吗？ 可以。不能改“指向”，但可以改“内部”。\n",
  "wordCount" : "3214",
  "inLanguage": "zh",
  "datePublished": "2025-10-30T07:46:37Z",
  "dateModified": "2025-11-06T17:32:53+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.steamedfish.top/post/java-se/java-se-static-final/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "SteamedFish's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.steamedfish.top/favicon.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.steamedfish.top/" accesskey="h" title="SteamedFish&#39;s Blog (Alt + H)">SteamedFish&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                    <ul class="lang-switch"><li>|</li>
                        <li>
                            <a href="https://www.steamedfish.top/en/" title="English"
                                aria-label="English">En</a>
                        </li>
                    </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.steamedfish.top/" title="首页">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/search/" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.steamedfish.top/">主页</a>&nbsp;»&nbsp;<a href="https://www.steamedfish.top/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Java SE从入门到跑路（五·static与final：静与常的艺术）
    </h1>
    <div class="post-meta">






<span title='2025-10-30 07:46:37.327 +0000 UTC'>2025-10-30</span>&nbsp;·&nbsp;<span title='2025-11-06 17:32:53 +0800 +0800'>(最后修改于 2025-11-06)</span>&nbsp;·&nbsp;<span>7 分钟</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%89%8d%e8%a8%80" aria-label="前言">前言</a></li>
                <li>
                    <a href="#static%e5%85%b3%e9%94%ae%e5%ad%97" aria-label="static关键字">static关键字</a><ul>
                        
                <li>
                    <a href="#1-static-%e6%98%af%e4%bb%80%e4%b9%88" aria-label="1. static 是什么？">1. static 是什么？</a></li>
                <li>
                    <a href="#2%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f-static-%e4%bf%ae%e9%a5%b0%e7%9a%84%e5%8f%98%e9%87%8f" aria-label="2.静态变量( static 修饰的变量)">2.静态变量( static 修饰的变量)</a></li>
                <li>
                    <a href="#3%e9%9d%99%e6%80%81%e6%96%b9%e6%b3%95-static-%e4%bf%ae%e9%a5%b0%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="3.静态方法( static 修饰的方法)">3.静态方法( static 修饰的方法)</a></li>
                <li>
                    <a href="#4%e9%9d%99%e6%80%81%e4%bb%a3%e7%a0%81%e5%9d%97-static-%e4%bb%a3%e7%a0%81%e5%9d%97" aria-label="4.静态代码块( static 代码块)">4.静态代码块( static 代码块)</a></li>
                <li>
                    <a href="#5-static-%e7%9a%84%e5%86%85%e5%ad%98%e5%8e%9f%e7%90%86" aria-label="5. static 的内存原理">5. static 的内存原理</a></li>
                <li>
                    <a href="#6-static-%e7%9a%84%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="6. static 的注意事项">6. static 的注意事项</a></li>
                <li>
                    <a href="#7-%e7%bb%8f%e5%85%b8%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="7. 经典应用场景">7. 经典应用场景</a></li>
                <li>
                    <a href="#8%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8fsingleton-pattern" aria-label="8.单例模式(Singleton Pattern)">8.单例模式(Singleton Pattern)</a><ul>
                        
                <li>
                    <a href="#%e9%a5%bf%e6%b1%89%e5%bc%8f-eager-singleton" aria-label="饿汉式( Eager Singleton)">饿汉式( Eager Singleton)</a></li>
                <li>
                    <a href="#%e6%87%92%e6%b1%89%e5%bc%8flazy-singleton" aria-label="懒汉式（Lazy Singleton）">懒汉式（Lazy Singleton）</a></li>
                <li>
                    <a href="#%e9%9d%99%e6%80%81%e5%86%85%e9%83%a8%e7%b1%bb%e5%bc%8f%e6%8e%a8%e8%8d%90%e5%86%99%e6%b3%95" aria-label="静态内部类式（推荐写法）">静态内部类式（推荐写法）</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#final%e5%85%b3%e9%94%ae%e5%ad%97" aria-label="final关键字">final关键字</a><ul>
                        
                <li>
                    <a href="#1-final-%e6%98%af%e4%bb%80%e4%b9%88" aria-label="1. final 是什么？">1. final 是什么？</a></li>
                <li>
                    <a href="#2-final-%e4%bf%ae%e9%a5%b0%e5%8f%98%e9%87%8f%e5%80%bc%e4%b8%8d%e8%83%bd%e5%8f%98" aria-label="2. final 修饰变量：值不能变">2. final 修饰变量：值不能变</a><ul>
                        
                <li>
                    <a href="#%e4%bf%ae%e9%a5%b0%e6%99%ae%e9%80%9a%e5%8f%98%e9%87%8f%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f" aria-label="修饰普通变量（局部变量）">修饰普通变量（局部变量）</a></li>
                <li>
                    <a href="#%e4%bf%ae%e9%a5%b0%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f%e7%b1%bb%e4%b8%ad%e5%ae%9a%e4%b9%89%e7%9a%84%e5%8f%98%e9%87%8f" aria-label="修饰成员变量（类中定义的变量）">修饰成员变量（类中定义的变量）</a></li>
                <li>
                    <a href="#%e4%bf%ae%e9%a5%b0%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f%e9%9d%99%e6%80%81%e5%b8%b8%e9%87%8f" aria-label="修饰静态变量（静态常量）">修饰静态变量（静态常量）</a></li></ul>
                </li>
                <li>
                    <a href="#2-final-%e4%bf%ae%e9%a5%b0%e6%96%b9%e6%b3%95%e7%a6%81%e6%ad%a2%e5%ad%90%e7%b1%bb%e9%87%8d%e5%86%99" aria-label="2. final 修饰方法：禁止子类重写">2. final 修饰方法：禁止子类重写</a></li>
                <li>
                    <a href="#3-final-%e4%bf%ae%e9%a5%b0%e7%b1%bb%e7%a6%81%e6%ad%a2%e8%a2%ab%e7%bb%a7%e6%89%bf" aria-label="3. final 修饰类：禁止被继承">3. final 修饰类：禁止被继承</a></li>
                <li>
                    <a href="#4-final-%e4%bf%ae%e9%a5%b0%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e9%9a%be%e7%82%b9" aria-label="4. final 修饰引用类型（难点）">4. final 修饰引用类型（难点）</a></li>
                <li>
                    <a href="#5-final-%e7%9a%84%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="5. final 的使用场景">5. final 的使用场景</a></li>
                <li>
                    <a href="#6-final-%e4%b8%8e-static-%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="6. final 与 static 的区别">6. final 与 static 的区别</a></li>
                <li>
                    <a href="#7final-%e7%9a%84%e6%9c%ac%e8%b4%a8%e4%b8%80%e6%ac%a1%e6%80%a7%e8%b5%8b%e5%80%bc" aria-label="7.final 的本质：一次性赋值">7.final 的本质：一次性赋值</a></li>
                <li>
                    <a href="#%e9%9d%a2%e8%af%95%e5%b8%b8%e8%a7%81%e9%a2%98" aria-label="面试常见题">面试常见题</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="前言">前言<a hidden class="anchor" aria-hidden="true" href="#前言">#</a></h1>
<p>在学完类与对象之后，你已经可以独立地定义自己的世界：
创建对象、设计方法、组织数据。   <br>
但在实际开发中，我们常常会遇到这样的问题：<br>
有些东西不需要属于某个对象，而应该属于整个类；<br>
有些值从头到尾都不该被修改。</p>
<p>于是，Java 为我们提供了两个关键字——<code>static</code> 和 <code>final</code>。 <br>
前者让你在“对象之外”思考，构建<strong>共享与独立</strong>的概念； <br>
后者让你定义<strong>不变与稳定</strong>的规则。</p>
<hr>
<h1 id="static关键字">static关键字<a hidden class="anchor" aria-hidden="true" href="#static关键字">#</a></h1>
<h2 id="1-static-是什么">1. static 是什么？<a hidden class="anchor" aria-hidden="true" href="#1-static-是什么">#</a></h2>
<p><code>static</code> 是 Java 中的一个关键字，用来修饰 <strong>成员变量</strong>、<strong>方法</strong>、<strong>代码块</strong> 和 <strong>内部类</strong>。</p>
<p>当某个成员被声明为 <code>static</code> 时：</p>
<ul>
<li>它<strong>不再属于某个对象</strong>；</li>
<li>而是被整个类<strong>共享</strong>；</li>
<li>在内存中<strong>只存在一份</strong>。</li>
</ul>
<p>简单来说，就是：</p>
<blockquote>
<p>“类的属性，不用对象也能访问。”</p>
</blockquote>
<hr>
<h2 id="2静态变量-static-修饰的变量">2.静态变量( static 修饰的变量)<a hidden class="anchor" aria-hidden="true" href="#2静态变量-static-修饰的变量">#</a></h2>
<p>我们先看一个例子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">        </span><span class="c1">// 每个学生有自己的名字</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">school</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;芭乐高中&#34;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 所有学生共用同一个学校名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>使用方式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Student</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">s1</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;汪东城&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Student</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">s2</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;雷婷&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">s1</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; - &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="na">school</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">s2</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; - &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s2</span><span class="p">.</span><span class="na">school</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>输出结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">汪东城</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">芭乐高中</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">雷婷</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">芭乐高中</span><span class="w">
</span></span></span></code></pre></div><p>如果修改 <code>school</code>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Student</span><span class="p">.</span><span class="na">school</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;热血高校&#34;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>再打印，你会发现所有对象看到的学校名都变了。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">汪东城</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">热血高校</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">雷婷</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">热血高校</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>这说明静态变量是共享的，而非独立的。</p>
</blockquote>
<hr>
<h2 id="3静态方法-static-修饰的方法">3.静态方法( static 修饰的方法)<a hidden class="anchor" aria-hidden="true" href="#3静态方法-static-修饰的方法">#</a></h2>
<p>静态方法属于类，不依赖于对象。   <br>
也就是说，你可以直接用 类名调用，而不是对象名。  <br>
比如 <code>Math.sqrt()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MathDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">9</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w"> </span><span class="c1">// 调用静态方法sqrt()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">);</span><span class="w"> </span><span class="c1">// 输出3.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>你不需要 <code>new Math()</code>，因为 <code>sqrt()</code> 是 <code>static</code> 的。<br>
这类方法一般具有<strong>通用性</strong>，与具体对象无关。</p>
<p>你也可以自己写静态方法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Tool</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printLine</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;----------静态方法运行了----------&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>调用：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Tool</span><span class="p">.</span><span class="na">printLine</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="o">----------</span><span class="n">静态方法运行了</span><span class="o">----------</span><span class="w">
</span></span></span></code></pre></div><hr>
<h2 id="4静态代码块-static-代码块">4.静态代码块( static 代码块)<a hidden class="anchor" aria-hidden="true" href="#4静态代码块-static-代码块">#</a></h2>
<p>静态代码块在<strong>类加载时自动执行一次</strong>，常用于初始化静态变量。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">InitDemo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;静态代码块执行！&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>运行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Test</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">InitDemo</span><span class="p">.</span><span class="na">count</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>输出：</p>
<pre tabindex="0"><code>静态代码块执行！
10
</code></pre><p>静态代码块只在类第一次被加载时运行一次，之后不会再执行。 <br>
它适合做一些<strong>全局初始化</strong>的工作。</p>
<hr>
<h2 id="5-static-的内存原理">5. static 的内存原理<a hidden class="anchor" aria-hidden="true" href="#5-static-的内存原理">#</a></h2>




<table>

    <thead>
      <tr>
          <th>区域</th>
          <th>内容</th>
          <th>生命周期</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><strong>栈(Stack)</strong></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">方法中的局部变量</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">方法调用时创建，结束时销毁</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><strong>堆(Heap)</strong></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">对象和实例变量</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">使用 <code>new</code> 创建，垃圾回收时销毁</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><strong>方法区(Method Area)</strong></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">类信息、静态变量、常量</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">程序运行期间始终存在</td>
      </tr>
  </tbody>
</table><p><code>static</code> 成员就存放在方法区中，它随着类加载时一起被加载到方法区中<br>
因此，不论你创建多少个对象，它都只有<strong>一份拷贝</strong>。</p>
<hr>
<h2 id="6-static-的注意事项">6. static 的注意事项<a hidden class="anchor" aria-hidden="true" href="#6-static-的注意事项">#</a></h2>
<ol>
<li>
<p>静态方法<strong>不能直接访问非静态成员</strong>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">20</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">show</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="c1">// System.out.println(a); ❌ 报错：不能访问非静态变量</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="w">   </span><span class="c1">// ✅ OK</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>因为静态方法在类加载时就存在，而非静态变量要等对象创建后才存在。</p>
</li>
<li>
<p>静态方法中不能使用 <code>this</code> 或 <code>super</code>。<br>
因为它们属于对象，而 <code>static</code> 属于类。</p>
</li>
<li>
<p>尽量避免滥用 static。</p>
<blockquote>
<p>“能用对象解决的，就不要滥用 static。”</p>
</blockquote>
<p>共享数据固然方便，但也会增加耦合和全局状态的复杂度。</p>
</li>
</ol>
<hr>
<h2 id="7-经典应用场景">7. 经典应用场景<a hidden class="anchor" aria-hidden="true" href="#7-经典应用场景">#</a></h2>




<table>

    <thead>
      <tr>
          <th>场景</th>
          <th>示例</th>
          <th>说明</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">工具类</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><code>Math</code>, <code>Arrays</code>, <code>Collections</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不需要实例化</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">常量类</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><code>public static final double PI = 3.14159;</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">定义全局常量</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">计数器</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">统计对象创建数量</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">所有对象共享一个计数器</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">单例模式</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><code>private static</code> 实例 + <code>getInstance()</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">确保类只有一个实例</td>
      </tr>
  </tbody>
</table><hr>
<h2 id="8单例模式singleton-pattern">8.单例模式(Singleton Pattern)<a hidden class="anchor" aria-hidden="true" href="#8单例模式singleton-pattern">#</a></h2>
<p>单例模式（Singleton Pattern）是 Java 中非常经典的设计模式之一。
它的核心思想是：<strong>一个类在整个程序运行期间只能有一个对象存在</strong>。
这种模式经常用于：</p>
<ul>
<li>数据库连接对象</li>
<li>日志系统</li>
<li>配置管理器</li>
<li>游戏中“全局控制器”类等</li>
</ul>
<p>而 <code>static</code> 正是实现单例模式的关键！</p>
<p>单例模式分为&quot;<strong>懒汉式单例模式</strong>&ldquo;和&rdquo;<strong>饿汉式单例模式</strong>&quot;</p>
<h3 id="饿汉式-eager-singleton">饿汉式( Eager Singleton)<a hidden class="anchor" aria-hidden="true" href="#饿汉式-eager-singleton">#</a></h3>
<p>饿汉式的特点是：<strong>类加载时就创建对象</strong>，不管你用不用，它都先准备好。</p>
<p>优点是线程安全，简单直接；<br>
缺点是如果对象很大但暂时不用，会造成内存浪费。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">EagerSingleton</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 1. 在类加载时就创建唯一实例</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">EagerSingleton</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EagerSingleton</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 2. 构造函数私有化，防止外部new对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">EagerSingleton</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 3. 提供全局访问点</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">EagerSingleton</span><span class="w"> </span><span class="nf">getInstance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>使用方式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Test</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">EagerSingleton</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EagerSingleton</span><span class="p">.</span><span class="na">getInstance</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">EagerSingleton</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EagerSingleton</span><span class="p">.</span><span class="na">getInstance</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w"> </span><span class="c1">// 输出 true，说明是同一个对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="懒汉式lazy-singleton">懒汉式（Lazy Singleton）<a hidden class="anchor" aria-hidden="true" href="#懒汉式lazy-singleton">#</a></h3>
<p>懒汉式的特点是：<strong>第一次使用时才创建对象</strong>。 <br>
这样可以节省内存，但要注意线程安全问题。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">LazySingleton</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">LazySingleton</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">LazySingleton</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">LazySingleton</span><span class="w"> </span><span class="nf">getInstance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">instance</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 第一次调用时才创建对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LazySingleton</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>不过上面这个版本在多线程情况下会有安全问题。 <br>
所以更安全的写法是线程安全的懒汉式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">SafeLazySingleton</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">SafeLazySingleton</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">SafeLazySingleton</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">synchronized</span><span class="w"> </span><span class="n">SafeLazySingleton</span><span class="w"> </span><span class="nf">getInstance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">instance</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SafeLazySingleton</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="静态内部类式推荐写法">静态内部类式（推荐写法）<a hidden class="anchor" aria-hidden="true" href="#静态内部类式推荐写法">#</a></h3>
<p>这是一种综合了“饿汉式的线程安全”和“懒汉式的延迟加载”的写法。 <br>
既安全又高效。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Singleton</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">Singleton</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Holder</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Singleton</span><span class="w"> </span><span class="n">INSTANCE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Singleton</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Singleton</span><span class="w"> </span><span class="nf">getInstance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Holder</span><span class="p">.</span><span class="na">INSTANCE</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>这种写法利用了 Java 的类加载机制：</p>
<ul>
<li>Holder 类只有在第一次调用 getInstance() 时才会被加载；</li>
<li>而类加载是线程安全的；</li>
<li>因此不用手动加锁，也不会提前占用内存。</li>
</ul>
<hr>
<h1 id="final关键字">final关键字<a hidden class="anchor" aria-hidden="true" href="#final关键字">#</a></h1>
<h2 id="1-final-是什么">1. final 是什么？<a hidden class="anchor" aria-hidden="true" href="#1-final-是什么">#</a></h2>
<p><code>final</code> 是一个<strong>不可变修饰符</strong>，可以用来修饰：</p>
<ul>
<li><strong>变量</strong>（防止被修改）</li>
<li><strong>方法</strong>（防止被重写）</li>
<li><strong>类</strong>（防止被继承）</li>
</ul>
<p>它就像在你的代码上贴了个标签：</p>
<blockquote>
<p>“这东西定了，谁也别改。”</p>
</blockquote>
<hr>
<h2 id="2-final-修饰变量值不能变">2. final 修饰变量：值不能变<a hidden class="anchor" aria-hidden="true" href="#2-final-修饰变量值不能变">#</a></h2>
<p>当 <code>final</code> 修饰变量时，它让这个变量<strong>只能被赋值一次</strong>。<br>
一旦赋值完成，就不能再改变。</p>
<h3 id="修饰普通变量局部变量">修饰普通变量（局部变量）<a hidden class="anchor" aria-hidden="true" href="#修饰普通变量局部变量">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo1</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// a = 20; // ❌ 报错：无法为最终变量 a 赋值</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>a</code> 被声明为 <code>final</code>，就相当于一个“常量”。</p>
<hr>
<h3 id="修饰成员变量类中定义的变量">修饰成员变量（类中定义的变量）<a hidden class="anchor" aria-hidden="true" href="#修饰成员变量类中定义的变量">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w"> </span><span class="c1">// 学号一旦确定就不能改</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Student</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w"> </span><span class="c1">// ✅ 构造方法中可以赋值一次</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>只要在构造器中赋一次值，之后就不能修改：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Test</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">(</span><span class="s">&#34;202501&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// s.id = &#34;202502&#34;; // ❌ 报错</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="修饰静态变量静态常量">修饰静态变量（静态常量）<a hidden class="anchor" aria-hidden="true" href="#修饰静态变量静态常量">#</a></h3>
<p>当 <code>final</code> 与 <code>static</code> 一起使用时，通常用于定义全局常量。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Const</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">PI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">3</span><span class="p">.</span><span class="na">14159</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>调用：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Const</span><span class="p">.</span><span class="na">PI</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><!-- FM:Snippet:Start data:{"id":"st-notice","fields":[]} -->
<style type="text/css">
     
    .notice {
        --title-color: #fff;
        --title-background-color: #6be;
        --content-color: #444;
        --content-background-color: #e7f2fa;
    }

    .notice.info {
        --title-background-color: #fb7;
        --content-background-color: #fec;
    }

    .notice.tip {
        --title-background-color: #5a5;
        --content-background-color: #efe;
    }

    .notice.warning {
        --title-background-color: #c33;
        --content-background-color: #fee;
    }

     
    

    body.dark .notice {
        --title-color: #fff;
        --title-background-color: #069;
        --content-color: #ddd;
        --content-background-color: #023;
    }

    body.dark .notice.info {
        --title-background-color: #a50;
        --content-background-color: #420;
    }

    body.dark .notice.tip {
        --title-background-color: #363;
        --content-background-color: #121;
    }

    body.dark .notice.warning {
        --title-background-color: #800;
        --content-background-color: #400;
    }

     
    .notice {
        padding: 18px;
        line-height: 24px;
        margin-bottom: 24px;
        border-radius: 4px;
        color: var(--content-color);
        background: var(--content-background-color);
    }

    .notice p:last-child {
        margin-bottom: 0
    }

     
    .notice-title {
        margin: -18px -18px 12px;
        padding: 4px 18px;
        border-radius: 4px 4px 0 0;
        font-weight: 700;
        color: var(--title-color);
        background: var(--title-background-color);
    }

     
    .icon-notice {
        display: inline-flex;
        align-self: center;
        margin-right: 8px;
    }

    .icon-notice img,
    .icon-notice svg {
        height: 1em;
        width: 1em;
        fill: currentColor;
    }

    .icon-notice img,
    .icon-notice.baseline svg {
        top: .125em;
        position: relative;
    }
</style><div class="notice tip" >
    <p class="notice-title">
        <span class="icon-notice baseline">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/></svg>
        </span>提示</p><p>常量的命名规范：</p>
<blockquote>
<p>常量名一般全部大写，用下划线分隔，例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MAX_SPEED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">240</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div></blockquote></div>
<!-- FM:Snippet:End -->
<hr>
<h2 id="2-final-修饰方法禁止子类重写">2. final 修饰方法：禁止子类重写<a hidden class="anchor" aria-hidden="true" href="#2-final-修饰方法禁止子类重写">#</a></h2>
<p>当你不想让子类改变父类中某个方法的实现时，可以加上 <code>final</code>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Animal</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">eat</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;动物在吃饭&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">Dog</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// void eat() { } // ❌ 报错：无法重写 final 方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>这样可以保护方法逻辑不被修改。</p>
<hr>
<h2 id="3-final-修饰类禁止被继承">3. final 修饰类：禁止被继承<a hidden class="anchor" aria-hidden="true" href="#3-final-修饰类禁止被继承">#</a></h2>
<p>有些类我们希望别人只能用，不能改，比如 <code>String</code>、<code>Math</code>、<code>System</code>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Tool</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">help</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;这是一个工具类&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// class MyTool extends Tool { } // ❌ 报错：无法继承 final 类</span><span class="w">
</span></span></span></code></pre></div><p>这可以防止框架或库被随意扩展，保持安全与稳定。</p>
<hr>
<h2 id="4-final-修饰引用类型难点">4. final 修饰引用类型（难点）<a hidden class="anchor" aria-hidden="true" href="#4-final-修饰引用类型难点">#</a></h2>
<p><code>final</code> 修饰引用变量时，表示<strong>引用本身不能改</strong>，但引用指向的对象内容可以改。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Demo2</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">p</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;小明&#34;</span><span class="p">;</span><span class="w">     </span><span class="c1">// ✅ 内容能改</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// p = new Person(); // ❌ 报错：引用不能指向新的对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>理解关键点：</p>
<blockquote>
<p>final 限制的是“地址不变”，不是“内容不变”。</p>
</blockquote>
<hr>
<h2 id="5-final-的使用场景">5. final 的使用场景<a hidden class="anchor" aria-hidden="true" href="#5-final-的使用场景">#</a></h2>




<table>

    <thead>
      <tr>
          <th>场景</th>
          <th>示例</th>
          <th>说明</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">定义常量</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><code>public static final double PI = 3.14159;</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">值不可改</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">保护方法</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><code>final void run()</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不允许重写</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">安全类</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><code>final class Math {}</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不允许继承</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不变引用</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: "><code>final Student s = new Student()</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">地址不变</td>
      </tr>
  </tbody>
</table><hr>
<h2 id="6-final-与-static-的区别">6. final 与 static 的区别<a hidden class="anchor" aria-hidden="true" href="#6-final-与-static-的区别">#</a></h2>




<table>

    <thead>
      <tr>
          <th>对比点</th>
          <th>static</th>
          <th>final</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">含义</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">属于类</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不可修改</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">修饰变量</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">所有对象共享</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">值不可变</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">修饰方法</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">可类调用</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不可重写</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">修饰类</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">内部类可用</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不能被继承</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">内存位置</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">方法区</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">不影响位置</td>
      </tr>
  </tbody>
</table><p>二者也可以一起使用（最常见的组合）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">AUTHOR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Lucian&#34;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>含义是：</p>
<blockquote>
<p>这个变量属于类（static），而且不能改（final）。</p>
</blockquote>
<hr>
<h2 id="7final-的本质一次性赋值">7.final 的本质：一次性赋值<a hidden class="anchor" aria-hidden="true" href="#7final-的本质一次性赋值">#</a></h2>
<p>从底层上讲，final 只是告诉 JVM：</p>
<p>“这个变量在初始化后不能再被赋值。”</p>
<p>这意味着编译器可以进行优化，比如内联常量（在编译时直接替换值）。</p>
<h2 id="面试常见题">面试常见题<a hidden class="anchor" aria-hidden="true" href="#面试常见题">#</a></h2>
<p>1️⃣ final 修饰的变量一定是常量吗？ <br>
不是。<br>
只有 <code>static final</code> 并且在编译期能确定值的才是编译期常量。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">().</span><span class="na">nextInt</span><span class="p">();</span><span class="w"> </span><span class="c1">// 运行时赋值，不是编译期常量</span><span class="w">
</span></span></span></code></pre></div><p>2️⃣ final 引用对象能改内容吗？ <br>
可以。不能改“指向”，但可以改“内部”。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.steamedfish.top/tags/java/">Java</a></li>
      <li><a href="https://www.steamedfish.top/tags/java-se/">Java SE</a></li>
      <li><a href="https://www.steamedfish.top/tags/oop/">OOP</a></li>
      <li><a href="https://www.steamedfish.top/tags/static/">Static</a></li>
      <li><a href="https://www.steamedfish.top/tags/%E6%95%99%E5%AD%A6/">教学</a></li>
      <li><a href="https://www.steamedfish.top/tags/final/">Final</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://www.steamedfish.top/">©2025 SteamedFish&rsquo;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>








<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css"
/>
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    Fancybox.bind("[data-fancybox]", {
      animated: true,                  
      showClass: 'fancybox-fadeIn',    
      hideClass: 'fancybox-fadeOut',   
      dragToClose: true                 
    });
  });
</script>





<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
