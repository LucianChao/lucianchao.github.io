<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Java SE从入门到跑路（十四·Lambda 与 Stream API） | SteamedFish&#39;s Blog</title>
<meta name="keywords" content="Java, Java SE, Lambda, OOP, Stream, 教学, 函数式编程">
<meta name="description" content="Lambda 表达式
Lambda 表达式概念与语法
Lambda 表达式是 Java 8 引入的一种简洁写法，用来替代匿名内部类。
语法结构：
(参数列表) -&gt; 表达式或语句块
示例1：无参数
Runnable r = () -&gt; System.out.println(&#34;Hello Lambda&#34;);
new Thread(r).start();
示例 2：单参数
Consumer&lt;String&gt; printer = s -&gt; System.out.println(s);
printer.accept(&#34;Hello World&#34;);
示例 3：多参数，有返回值
Comparator&lt;Integer&gt; cmp = (a, b) -&gt; a - b;
int result = cmp.compare(5, 3);
System.out.println(result); // 2
注意：

如果 Lambda 只有一条语句，可以省略 {} 和 return。
参数类型可以省略，Java 会根据上下文推断。


函数式接口
Lambda 依赖于函数式接口。
函数式接口是只包含一个抽象方法的接口。
Java 内置了常用函数式接口：">
<meta name="author" content="">
<link rel="canonical" href="https://www.steamedfish.top/post/java-se/java-se-lambda-stream/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css" integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn&#43;yY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.steamedfish.top/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.steamedfish.top/favicon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.steamedfish.top/favicon.png">
<link rel="apple-touch-icon" href="https://www.steamedfish.top/favicon.png">
<link rel="mask-icon" href="https://www.steamedfish.top/favicon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://www.steamedfish.top/post/java-se/java-se-lambda-stream/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://www.steamedfish.top/post/java-se/java-se-lambda-stream/">
  <meta property="og:site_name" content="SteamedFish&#39;s Blog">
  <meta property="og:title" content="Java SE从入门到跑路（十四·Lambda 与 Stream API）">
  <meta property="og:description" content="Lambda 表达式 Lambda 表达式概念与语法 Lambda 表达式是 Java 8 引入的一种简洁写法，用来替代匿名内部类。 语法结构：
(参数列表) -&gt; 表达式或语句块 示例1：无参数
Runnable r = () -&gt; System.out.println(&#34;Hello Lambda&#34;); new Thread(r).start(); 示例 2：单参数
Consumer&lt;String&gt; printer = s -&gt; System.out.println(s); printer.accept(&#34;Hello World&#34;); 示例 3：多参数，有返回值
Comparator&lt;Integer&gt; cmp = (a, b) -&gt; a - b; int result = cmp.compare(5, 3); System.out.println(result); // 2 注意：
如果 Lambda 只有一条语句，可以省略 {} 和 return。 参数类型可以省略，Java 会根据上下文推断。 函数式接口 Lambda 依赖于函数式接口。
函数式接口是只包含一个抽象方法的接口。
Java 内置了常用函数式接口：">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2025-11-01T16:04:42+08:00">
    <meta property="article:modified_time" content="2025-11-21T16:25:33+00:00">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="Java SE">
    <meta property="article:tag" content="Lambda">
    <meta property="article:tag" content="OOP">
    <meta property="article:tag" content="Stream">
    <meta property="article:tag" content="教学">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java SE从入门到跑路（十四·Lambda 与 Stream API）">
<meta name="twitter:description" content="Lambda 表达式
Lambda 表达式概念与语法
Lambda 表达式是 Java 8 引入的一种简洁写法，用来替代匿名内部类。
语法结构：
(参数列表) -&gt; 表达式或语句块
示例1：无参数
Runnable r = () -&gt; System.out.println(&#34;Hello Lambda&#34;);
new Thread(r).start();
示例 2：单参数
Consumer&lt;String&gt; printer = s -&gt; System.out.println(s);
printer.accept(&#34;Hello World&#34;);
示例 3：多参数，有返回值
Comparator&lt;Integer&gt; cmp = (a, b) -&gt; a - b;
int result = cmp.compare(5, 3);
System.out.println(result); // 2
注意：

如果 Lambda 只有一条语句，可以省略 {} 和 return。
参数类型可以省略，Java 会根据上下文推断。


函数式接口
Lambda 依赖于函数式接口。
函数式接口是只包含一个抽象方法的接口。
Java 内置了常用函数式接口：">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.steamedfish.top/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Java SE从入门到跑路（十四·Lambda 与 Stream API）",
      "item": "https://www.steamedfish.top/post/java-se/java-se-lambda-stream/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Java SE从入门到跑路（十四·Lambda 与 Stream API）",
  "name": "Java SE从入门到跑路（十四·Lambda 与 Stream API）",
  "description": "Lambda 表达式 Lambda 表达式概念与语法 Lambda 表达式是 Java 8 引入的一种简洁写法，用来替代匿名内部类。 语法结构：\n(参数列表) -\u0026gt; 表达式或语句块 示例1：无参数\nRunnable r = () -\u0026gt; System.out.println(\u0026#34;Hello Lambda\u0026#34;); new Thread(r).start(); 示例 2：单参数\nConsumer\u0026lt;String\u0026gt; printer = s -\u0026gt; System.out.println(s); printer.accept(\u0026#34;Hello World\u0026#34;); 示例 3：多参数，有返回值\nComparator\u0026lt;Integer\u0026gt; cmp = (a, b) -\u0026gt; a - b; int result = cmp.compare(5, 3); System.out.println(result); // 2 注意：\n如果 Lambda 只有一条语句，可以省略 {} 和 return。 参数类型可以省略，Java 会根据上下文推断。 函数式接口 Lambda 依赖于函数式接口。\n函数式接口是只包含一个抽象方法的接口。\nJava 内置了常用函数式接口：\n",
  "keywords": [
    "Java", "Java SE", "Lambda", "OOP", "Stream", "教学", "函数式编程"
  ],
  "articleBody": "Lambda 表达式 Lambda 表达式概念与语法 Lambda 表达式是 Java 8 引入的一种简洁写法，用来替代匿名内部类。 语法结构：\n(参数列表) -\u003e 表达式或语句块 示例1：无参数\nRunnable r = () -\u003e System.out.println(\"Hello Lambda\"); new Thread(r).start(); 示例 2：单参数\nConsumer\u003cString\u003e printer = s -\u003e System.out.println(s); printer.accept(\"Hello World\"); 示例 3：多参数，有返回值\nComparator\u003cInteger\u003e cmp = (a, b) -\u003e a - b; int result = cmp.compare(5, 3); System.out.println(result); // 2 注意：\n如果 Lambda 只有一条语句，可以省略 {} 和 return。 参数类型可以省略，Java 会根据上下文推断。 函数式接口 Lambda 依赖于函数式接口。\n函数式接口是只包含一个抽象方法的接口。\nJava 内置了常用函数式接口：\n接口\r方法\r示例用途\rConsumer\rvoid accept(T t)\r消费一个值，例如打印\rSupplier\rT get()\r提供一个值，例如生成随机数\rFunction\rR apply(T t)\r对值进行转换，例如字符串转大写\rPredicate\rboolean test(T t)\r判断条件，例如是否为偶数\r示例：使用 Predicate\nPredicate\u003cInteger\u003e isEven = x -\u003e x % 2 == 0; System.out.println(isEven.test(4)); // true 方法引用（Method Reference） 方法引用是 Lambda 表达式的简写形式，用 :: 表示。 它可以引用已有的方法或构造函数，使代码更简洁。\n1. 静态方法引用 Function\u003cString, Integer\u003e toInt = Integer::parseInt; int num = toInt.apply(\"123\"); System.out.println(num); // 123 2. 实例方法引用 Consumer\u003cString\u003e printer = System.out::println; printer.accept(\"Hello Method Reference\"); 3. 特定对象的方法引用 String str = \"hello\"; Supplier\u003cInteger\u003e lenSupplier = str::length; System.out.println(lenSupplier.get()); // 5 4. 构造方法引用 Supplier\u003cList\u003cString\u003e\u003e listSupplier = ArrayList::new; List\u003cString\u003e list = listSupplier.get(); list.add(\"Java\"); System.out.println(list); // [Java] 注意：\n方法引用只能用于与函数式接口的方法签名匹配的情况。 适合用来代替简单 Lambda，提高可读性。 Stream API 基本概念 Stream 是 Java 8 引入的数据操作抽象，支持链式操作和函数式编程风格。 特点：\n不存储数据：Stream 只是对数据源的视图。\n函数式操作：提供 map、filter、reduce 等方法。\n惰性求值：只有终结操作才会触发计算。\n可并行：支持 parallelStream 并行处理数据。\n1.创建Stream List\u003cString\u003e list = Arrays.asList(\"apple\", \"banana\", \"orange\"); // 从集合创建 Stream\u003cString\u003e stream1 = list.stream(); // 从数组创建 Stream\u003cInteger\u003e stream2 = Arrays.stream(new Integer[]{1,2,3}); // 使用 Stream.of() Stream\u003cString\u003e stream3 = Stream.of(\"a\",\"b\",\"c\"); 2. Stream 中间操作（Intermediate Operations） 中间操作返回新的 Stream，本身不会触发计算，支持链式调用。\nfilter过滤 List\u003cString\u003e list = Arrays.asList(\"apple\", \"banana\", \"orange\"); List\u003cString\u003e filtered = list.stream() .filter(s -\u003e s.startsWith(\"a\")) .toList(); System.out.println(filtered); // [apple] map映射 List\u003cString\u003e upper = list.stream() .map(String::toUpperCase) .toList(); System.out.println(upper); // [APPLE, BANANA, ORANGE] distinct去重 List\u003cInteger\u003e nums = Arrays.asList(1,2,2,3,3,3); List\u003cInteger\u003e unique = nums.stream().distinct().toList(); System.out.println(unique); // [1,2,3] sorted排序 List\u003cString\u003e sorted = list.stream() .sorted() .toList(); System.out.println(sorted); // [apple, banana, orange] limit 和 skip List\u003cInteger\u003e firstTwo = nums.stream().limit(2).toList(); System.out.println(firstTwo); // [1,2] List\u003cInteger\u003e skipped = nums.stream().skip(2).toList(); System.out.println(skipped); // [2,3,3,3] 3 Stream 终结操作（Terminal Operations） 终结操作触发计算，返回结果或副作用。\nforEach list.stream().forEach(System.out::println); // 输出 apple banana orange collect List\u003cString\u003e collected = list.stream() .filter(s -\u003e s.length() \u003e 5) .collect(Collectors.toList()); System.out.println(collected); // [banana, orange] reduce聚合 int sum = Arrays.asList(1,2,3,4).stream() .reduce(0, Integer::sum); System.out.println(sum); // 10 count long count = list.stream() .filter(s -\u003e s.contains(\"a\")) .count(); System.out.println(count); // 3 anyMatch / allMatch / noneMatch boolean any = list.stream().anyMatch(s -\u003e s.startsWith(\"b\")); // true boolean all = list.stream().allMatch(s -\u003e s.length() \u003e= 3); // true boolean none = list.stream().noneMatch(s -\u003e s.isEmpty()); // true 并行 Stream（Parallel Stream） 并行 Stream 可以利用多核 CPU 提升处理效率。\n1. 创建并行 Stream List\u003cInteger\u003e nums = Arrays.asList(1,2,3,4,5,6,7,8,9,10); int sum = nums.parallelStream() .filter(n -\u003e n % 2 == 0) .mapToInt(Integer::intValue) .sum(); System.out.println(sum); // 30 注意：\n并行 Stream 并不是总比顺序快，小数据量或简单操作可能更慢。 不要对有状态或非线程安全的对象使用并行 Stream，否则会出现竞态条件。 Optional 类 Optional 是 Java 8 引入的防止 NullPointerException 的容器类，用来表示可能为空的值。\n1.创建 Optional Optional\u003cString\u003e opt1 = Optional.of(\"hello\"); // 不允许 null Optional\u003cString\u003e opt2 = Optional.ofNullable(null); // 可以为 null Optional\u003cString\u003e opt3 = Optional.empty(); // 空 Optional 2. 判断与获取值 if(opt1.isPresent()) { System.out.println(opt1.get()); // hello } // 推荐写法 opt1.ifPresent(System.out::println); // hello 3. 设置默认值 String value = opt2.orElse(\"default\"); // default String value2 = opt2.orElseGet(() -\u003e \"generated\"); // generated 4. 过滤与映射 Optional\u003cString\u003e filtered = opt1.filter(s -\u003e s.startsWith(\"h\")); System.out.println(filtered.isPresent()); // true Optional\u003cString\u003e mapped = opt1.map(String::toUpperCase); System.out.println(mapped.get()); // HELLO 集合与 Stream 的整合示例 在实际开发中，集合框架和 Stream API 常常结合使用，使代码更简洁、更易读。\n1. List 集合过滤与映射 List\u003cString\u003e names = Arrays.asList(\"Alice\", \"Bob\", \"Charlie\", \"David\"); // 过滤长度大于3的名字，并转成大写 List\u003cString\u003e result = names.stream() .filter(s -\u003e s.length() \u003e 3) .map(String::toUpperCase) .collect(Collectors.toList()); System.out.println(result); // [ALICE, CHARLIE, DAVID] 2. Set 集合去重与统计 List\u003cInteger\u003e nums = Arrays.asList(1,2,3,2,1,4,5); // 转成 Set 去重，并计算平方和 int sumSquares = nums.stream() .distinct() .mapToInt(n -\u003e n * n) .sum(); System.out.println(sumSquares); // 55 3. Map集合处理 Map\u003cString, Integer\u003e map = Map.of(\"A\", 10, \"B\", 20, \"C\", 30); // 取值并进行过滤 map.entrySet().stream() .filter(entry -\u003e entry.getValue() \u003e 15) .forEach(entry -\u003e System.out.println(entry.getKey() + \"=\" + entry.getValue())); // 输出：B=20 // C=30 4. 分组与统计 List\u003cString\u003e fruits = Arrays.asList(\"apple\", \"banana\", \"apple\", \"orange\", \"banana\"); // 按水果名称分组计数 Map\u003cString, Long\u003e countMap = fruits.stream() .collect(Collectors.groupingBy(f -\u003e f, Collectors.counting())); System.out.println(countMap); // {orange=1, banana=2, apple=2} 5. 并行处理 List\u003cInteger\u003e largeList = IntStream.rangeClosed(1, 1000).boxed().collect(Collectors.toList()); int sum = largeList.parallelStream() .filter(n -\u003e n % 2 == 0) .mapToInt(Integer::intValue) .sum(); System.out.println(sum); // 250500 总结：\nStream 可以将集合转化为管道，进行高效操作。 collect(Collectors.toList()) / toSet() / toMap() 可将 Stream 结果收集回集合。 groupingBy、counting、mapping 等方法可实现复杂统计和分组。 并行 Stream 可充分利用多核 CPU，但要注意线程安全。 ",
  "wordCount" : "1541",
  "inLanguage": "zh",
  "datePublished": "2025-11-01T16:04:42+08:00",
  "dateModified": "2025-11-21T16:25:33.43133732Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.steamedfish.top/post/java-se/java-se-lambda-stream/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "SteamedFish's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.steamedfish.top/favicon.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.steamedfish.top/" accesskey="h" title="SteamedFish&#39;s Blog (Alt + H)">SteamedFish&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.steamedfish.top/">主页</a>&nbsp;»&nbsp;<a href="https://www.steamedfish.top/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Java SE从入门到跑路（十四·Lambda 与 Stream API）
    </h1>
    <div class="post-meta">






<span title='2025-11-01 16:04:42 +0800 +0800'>2025-11-01</span>&nbsp;·&nbsp;<span title='2025-11-21 16:25:33.43133732 +0000 UTC'>(最后修改于 2025-11-21)</span>&nbsp;·&nbsp;<span>4 分钟</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#lambda-%e8%a1%a8%e8%be%be%e5%bc%8f" aria-label="Lambda 表达式">Lambda 表达式</a><ul>
                        
                <li>
                    <a href="#lambda-%e8%a1%a8%e8%be%be%e5%bc%8f%e6%a6%82%e5%bf%b5%e4%b8%8e%e8%af%ad%e6%b3%95" aria-label="Lambda 表达式概念与语法">Lambda 表达式概念与语法</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0%e5%bc%8f%e6%8e%a5%e5%8f%a3" aria-label="函数式接口">函数式接口</a></li>
                <li>
                    <a href="#%e6%96%b9%e6%b3%95%e5%bc%95%e7%94%a8method-reference" aria-label="方法引用（Method Reference）">方法引用（Method Reference）</a><ul>
                        
                <li>
                    <a href="#1-%e9%9d%99%e6%80%81%e6%96%b9%e6%b3%95%e5%bc%95%e7%94%a8" aria-label="1. 静态方法引用">1. 静态方法引用</a></li>
                <li>
                    <a href="#2-%e5%ae%9e%e4%be%8b%e6%96%b9%e6%b3%95%e5%bc%95%e7%94%a8" aria-label="2. 实例方法引用">2. 实例方法引用</a></li>
                <li>
                    <a href="#3-%e7%89%b9%e5%ae%9a%e5%af%b9%e8%b1%a1%e7%9a%84%e6%96%b9%e6%b3%95%e5%bc%95%e7%94%a8" aria-label="3. 特定对象的方法引用">3. 特定对象的方法引用</a></li>
                <li>
                    <a href="#4-%e6%9e%84%e9%80%a0%e6%96%b9%e6%b3%95%e5%bc%95%e7%94%a8" aria-label="4. 构造方法引用">4. 构造方法引用</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#stream-api-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="Stream API 基本概念">Stream API 基本概念</a><ul>
                        
                <li>
                    <a href="#1%e5%88%9b%e5%bb%bastream" aria-label="1.创建Stream">1.创建Stream</a></li>
                <li>
                    <a href="#2-stream-%e4%b8%ad%e9%97%b4%e6%93%8d%e4%bd%9cintermediate-operations" aria-label="2. Stream 中间操作（Intermediate Operations）">2. Stream 中间操作（Intermediate Operations）</a><ul>
                        
                <li>
                    <a href="#filter%e8%bf%87%e6%bb%a4" aria-label="filter过滤">filter过滤</a></li>
                <li>
                    <a href="#map%e6%98%a0%e5%b0%84" aria-label="map映射">map映射</a></li>
                <li>
                    <a href="#distinct%e5%8e%bb%e9%87%8d" aria-label="distinct去重">distinct去重</a></li>
                <li>
                    <a href="#sorted%e6%8e%92%e5%ba%8f" aria-label="sorted排序">sorted排序</a></li>
                <li>
                    <a href="#limit-%e5%92%8c-skip" aria-label="limit 和 skip">limit 和 skip</a></li></ul>
                </li>
                <li>
                    <a href="#3-stream-%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9cterminal-operations" aria-label="3 Stream 终结操作（Terminal Operations）">3 Stream 终结操作（Terminal Operations）</a><ul>
                        
                <li>
                    <a href="#foreach" aria-label="forEach">forEach</a></li>
                <li>
                    <a href="#collect" aria-label="collect">collect</a></li>
                <li>
                    <a href="#reduce%e8%81%9a%e5%90%88" aria-label="reduce聚合">reduce聚合</a></li>
                <li>
                    <a href="#count" aria-label="count">count</a></li>
                <li>
                    <a href="#anymatch--allmatch--nonematch" aria-label="anyMatch / allMatch / noneMatch">anyMatch / allMatch / noneMatch</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%b9%b6%e8%a1%8c-streamparallel-stream" aria-label="并行 Stream（Parallel Stream）">并行 Stream（Parallel Stream）</a><ul>
                        
                <li>
                    <a href="#1-%e5%88%9b%e5%bb%ba%e5%b9%b6%e8%a1%8c-stream" aria-label="1. 创建并行 Stream">1. 创建并行 Stream</a></li></ul>
                </li>
                <li>
                    <a href="#optional-%e7%b1%bb" aria-label="Optional 类">Optional 类</a><ul>
                        
                <li>
                    <a href="#1%e5%88%9b%e5%bb%ba-optional" aria-label="1.创建 Optional">1.创建 Optional</a></li>
                <li>
                    <a href="#2-%e5%88%a4%e6%96%ad%e4%b8%8e%e8%8e%b7%e5%8f%96%e5%80%bc" aria-label="2. 判断与获取值">2. 判断与获取值</a></li>
                <li>
                    <a href="#3-%e8%ae%be%e7%bd%ae%e9%bb%98%e8%ae%a4%e5%80%bc" aria-label="3. 设置默认值">3. 设置默认值</a></li>
                <li>
                    <a href="#4-%e8%bf%87%e6%bb%a4%e4%b8%8e%e6%98%a0%e5%b0%84" aria-label="4. 过滤与映射">4. 过滤与映射</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%9b%86%e5%90%88%e4%b8%8e-stream-%e7%9a%84%e6%95%b4%e5%90%88%e7%a4%ba%e4%be%8b" aria-label="集合与 Stream 的整合示例">集合与 Stream 的整合示例</a><ul>
                        
                <li>
                    <a href="#1-list-%e9%9b%86%e5%90%88%e8%bf%87%e6%bb%a4%e4%b8%8e%e6%98%a0%e5%b0%84" aria-label="1. List 集合过滤与映射">1. List 集合过滤与映射</a></li>
                <li>
                    <a href="#2-set-%e9%9b%86%e5%90%88%e5%8e%bb%e9%87%8d%e4%b8%8e%e7%bb%9f%e8%ae%a1" aria-label="2. Set 集合去重与统计">2. Set 集合去重与统计</a></li>
                <li>
                    <a href="#3-map%e9%9b%86%e5%90%88%e5%a4%84%e7%90%86" aria-label="3. Map集合处理">3. Map集合处理</a></li>
                <li>
                    <a href="#4-%e5%88%86%e7%bb%84%e4%b8%8e%e7%bb%9f%e8%ae%a1" aria-label="4. 分组与统计">4. 分组与统计</a></li>
                <li>
                    <a href="#5-%e5%b9%b6%e8%a1%8c%e5%a4%84%e7%90%86" aria-label="5. 并行处理">5. 并行处理</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="lambda-表达式">Lambda 表达式<a hidden class="anchor" aria-hidden="true" href="#lambda-表达式">#</a></h1>
<h2 id="lambda-表达式概念与语法">Lambda 表达式概念与语法<a hidden class="anchor" aria-hidden="true" href="#lambda-表达式概念与语法">#</a></h2>
<p>Lambda 表达式是 Java 8 引入的一种简洁写法，用来替代匿名内部类。
语法结构：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="p">(</span><span class="n">参数列表</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">表达式或语句块</span><span class="w">
</span></span></span></code></pre></div><p>示例1：无参数</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Runnable</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Hello Lambda&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="n">r</span><span class="p">).</span><span class="na">start</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p>示例 2：单参数</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Consumer</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">printer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">printer</span><span class="p">.</span><span class="na">accept</span><span class="p">(</span><span class="s">&#34;Hello World&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>示例 3：多参数，有返回值</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cmp</span><span class="p">.</span><span class="na">compare</span><span class="p">(</span><span class="n">5</span><span class="p">,</span><span class="w"> </span><span class="n">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">);</span><span class="w"> </span><span class="c1">// 2</span><span class="w">
</span></span></span></code></pre></div><p>注意：</p>
<ul>
<li>如果 <strong>Lambda</strong> 只有一条语句，可以省略 <code>{}</code> 和 <code>return</code>。</li>
<li>参数类型可以省略，Java 会根据上下文推断。</li>
</ul>
<hr>
<h2 id="函数式接口">函数式接口<a hidden class="anchor" aria-hidden="true" href="#函数式接口">#</a></h2>
<p>Lambda 依赖于函数式接口。<br>
函数式接口是只包含一个抽象方法的接口。<br>
Java 内置了常用函数式接口：</p>




<table>

    <thead>
      <tr>
          <th>接口</th>
          <th>方法</th>
          <th>示例用途</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">Consumer<T></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">void accept(T t)</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">消费一个值，例如打印</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">Supplier<T></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">T get()</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">提供一个值，例如生成随机数</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">Function&lt;T,R&gt;</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">R apply(T t)</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">对值进行转换，例如字符串转大写</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">Predicate<T></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">boolean test(T t)</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: ">判断条件，例如是否为偶数</td>
      </tr>
  </tbody>
</table><p>示例：使用 Predicate</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">isEven</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">isEven</span><span class="p">.</span><span class="na">test</span><span class="p">(</span><span class="n">4</span><span class="p">));</span><span class="w"> </span><span class="c1">// true</span><span class="w">
</span></span></span></code></pre></div><hr>
<h2 id="方法引用method-reference">方法引用（Method Reference）<a hidden class="anchor" aria-hidden="true" href="#方法引用method-reference">#</a></h2>
<p>方法引用是 Lambda 表达式的简写形式，用 <code>::</code> 表示。
它可以引用已有的方法或构造函数，使代码更简洁。</p>
<hr>
<h3 id="1-静态方法引用">1. 静态方法引用<a hidden class="anchor" aria-hidden="true" href="#1-静态方法引用">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Function</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">toInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">::</span><span class="n">parseInt</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">toInt</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="s">&#34;123&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">num</span><span class="p">);</span><span class="w"> </span><span class="c1">// 123</span><span class="w">
</span></span></span></code></pre></div><h3 id="2-实例方法引用">2. 实例方法引用<a hidden class="anchor" aria-hidden="true" href="#2-实例方法引用">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Consumer</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">printer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">printer</span><span class="p">.</span><span class="na">accept</span><span class="p">(</span><span class="s">&#34;Hello Method Reference&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><h3 id="3-特定对象的方法引用">3. 特定对象的方法引用<a hidden class="anchor" aria-hidden="true" href="#3-特定对象的方法引用">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;hello&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lenSupplier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">::</span><span class="n">length</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">lenSupplier</span><span class="p">.</span><span class="na">get</span><span class="p">());</span><span class="w"> </span><span class="c1">// 5</span><span class="w">
</span></span></span></code></pre></div><h3 id="4-构造方法引用">4. 构造方法引用<a hidden class="anchor" aria-hidden="true" href="#4-构造方法引用">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">listSupplier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">::</span><span class="k">new</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listSupplier</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&#34;Java&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">list</span><span class="p">);</span><span class="w"> </span><span class="c1">// [Java]</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>注意：</p>
<ul>
<li>方法引用只能用于与函数式接口的方法签名匹配的情况。</li>
<li>适合用来代替简单 Lambda，提高可读性。</li>
</ul>
</blockquote>
<hr>
<h1 id="stream-api-基本概念">Stream API 基本概念<a hidden class="anchor" aria-hidden="true" href="#stream-api-基本概念">#</a></h1>
<p>Stream 是 Java 8 引入的数据操作抽象，支持链式操作和函数式编程风格。
特点：</p>
<ol>
<li>
<p><strong>不存储数据</strong>：Stream 只是对数据源的视图。</p>
</li>
<li>
<p><strong>函数式操作</strong>：提供 map、filter、reduce 等方法。</p>
</li>
<li>
<p><strong>惰性求值</strong>：只有终结操作才会触发计算。</p>
</li>
<li>
<p><strong>可并行</strong>：支持 parallelStream 并行处理数据。</p>
</li>
</ol>
<h2 id="1创建stream">1.创建Stream<a hidden class="anchor" aria-hidden="true" href="#1创建stream">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&#34;apple&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;banana&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;orange&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 从集合创建</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stream1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 从数组创建</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stream2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Integer</span><span class="o">[]</span><span class="p">{</span><span class="n">1</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">3</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 使用 Stream.of()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stream3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Stream</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&#34;a&#34;</span><span class="p">,</span><span class="s">&#34;b&#34;</span><span class="p">,</span><span class="s">&#34;c&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><hr>
<h2 id="2-stream-中间操作intermediate-operations">2. Stream 中间操作（Intermediate Operations）<a hidden class="anchor" aria-hidden="true" href="#2-stream-中间操作intermediate-operations">#</a></h2>
<p>中间操作返回新的 Stream，本身不会触发计算，支持链式调用。</p>
<h3 id="filter过滤"><code>filter</code>过滤<a hidden class="anchor" aria-hidden="true" href="#filter过滤">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&#34;apple&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;banana&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;orange&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&#34;a&#34;</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                            </span><span class="p">.</span><span class="na">toList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">filtered</span><span class="p">);</span><span class="w"> </span><span class="c1">// [apple]</span><span class="w">
</span></span></span></code></pre></div><h3 id="map映射"><code>map</code>映射<a hidden class="anchor" aria-hidden="true" href="#map映射">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">upper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                         </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">String</span><span class="p">::</span><span class="n">toUpperCase</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                         </span><span class="p">.</span><span class="na">toList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">upper</span><span class="p">);</span><span class="w"> </span><span class="c1">// [APPLE, BANANA, ORANGE]</span><span class="w">
</span></span></span></code></pre></div><h3 id="distinct去重"><code>distinct</code>去重<a hidden class="anchor" aria-hidden="true" href="#distinct去重">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">3</span><span class="p">,</span><span class="n">3</span><span class="p">,</span><span class="n">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nums</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">distinct</span><span class="p">().</span><span class="na">toList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">unique</span><span class="p">);</span><span class="w"> </span><span class="c1">// [1,2,3]</span><span class="w">
</span></span></span></code></pre></div><h3 id="sorted排序"><code>sorted</code>排序<a hidden class="anchor" aria-hidden="true" href="#sorted排序">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sorted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                          </span><span class="p">.</span><span class="na">sorted</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                          </span><span class="p">.</span><span class="na">toList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">sorted</span><span class="p">);</span><span class="w"> </span><span class="c1">// [apple, banana, orange]</span><span class="w">
</span></span></span></code></pre></div><h3 id="limit-和-skip"><code>limit</code> 和 <code>skip</code><a hidden class="anchor" aria-hidden="true" href="#limit-和-skip">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">firstTwo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nums</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">limit</span><span class="p">(</span><span class="n">2</span><span class="p">).</span><span class="na">toList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">firstTwo</span><span class="p">);</span><span class="w"> </span><span class="c1">// [1,2]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">skipped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nums</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">skip</span><span class="p">(</span><span class="n">2</span><span class="p">).</span><span class="na">toList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">skipped</span><span class="p">);</span><span class="w"> </span><span class="c1">// [2,3,3,3]</span><span class="w">
</span></span></span></code></pre></div><hr>
<h2 id="3-stream-终结操作terminal-operations">3 Stream 终结操作（Terminal Operations）<a hidden class="anchor" aria-hidden="true" href="#3-stream-终结操作terminal-operations">#</a></h2>
<p>终结操作触发计算，返回结果或副作用。</p>
<h3 id="foreach"><code>forEach</code><a hidden class="anchor" aria-hidden="true" href="#foreach">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 输出 apple banana orange</span><span class="w">
</span></span></span></code></pre></div><h3 id="collect"><code>collect</code><a hidden class="anchor" aria-hidden="true" href="#collect">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">collected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                             </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">5</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                             </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">collected</span><span class="p">);</span><span class="w"> </span><span class="c1">// [banana, orange]</span><span class="w">
</span></span></span></code></pre></div><h3 id="reduce聚合"><code>reduce</code>聚合<a hidden class="anchor" aria-hidden="true" href="#reduce聚合">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">3</span><span class="p">,</span><span class="n">4</span><span class="p">).</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                                </span><span class="p">.</span><span class="na">reduce</span><span class="p">(</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="p">::</span><span class="n">sum</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span><span class="w"> </span><span class="c1">// 10</span><span class="w">
</span></span></span></code></pre></div><h3 id="count"><code>count</code><a hidden class="anchor" aria-hidden="true" href="#count">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&#34;a&#34;</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="p">.</span><span class="na">count</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">count</span><span class="p">);</span><span class="w"> </span><span class="c1">// 3</span><span class="w">
</span></span></span></code></pre></div><h3 id="anymatch--allmatch--nonematch"><code>anyMatch</code> / <code>allMatch</code> / <code>noneMatch</code><a hidden class="anchor" aria-hidden="true" href="#anymatch--allmatch--nonematch">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kt">boolean</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">anyMatch</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&#34;b&#34;</span><span class="p">));</span><span class="w"> </span><span class="c1">// true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">boolean</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">allMatch</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">3</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">boolean</span><span class="w"> </span><span class="n">none</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">noneMatch</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">());</span><span class="w">   </span><span class="c1">// true</span><span class="w">
</span></span></span></code></pre></div><hr>
<h1 id="并行-streamparallel-stream">并行 Stream（Parallel Stream）<a hidden class="anchor" aria-hidden="true" href="#并行-streamparallel-stream">#</a></h1>
<p>并行 Stream 可以利用多核 CPU 提升处理效率。</p>
<h2 id="1-创建并行-stream">1. 创建并行 Stream<a hidden class="anchor" aria-hidden="true" href="#1-创建并行-stream">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">3</span><span class="p">,</span><span class="n">4</span><span class="p">,</span><span class="n">5</span><span class="p">,</span><span class="n">6</span><span class="p">,</span><span class="n">7</span><span class="p">,</span><span class="n">8</span><span class="p">,</span><span class="n">9</span><span class="p">,</span><span class="n">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nums</span><span class="p">.</span><span class="na">parallelStream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="p">.</span><span class="na">mapToInt</span><span class="p">(</span><span class="n">Integer</span><span class="p">::</span><span class="n">intValue</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="p">.</span><span class="na">sum</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span><span class="w"> </span><span class="c1">// 30</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>注意：</p>
<ul>
<li>并行 Stream 并不是总比顺序快，小数据量或简单操作可能更慢。</li>
<li>不要对有状态或非线程安全的对象使用并行 Stream，否则会出现竞态条件。</li>
</ul>
</blockquote>
<hr>
<h1 id="optional-类">Optional 类<a hidden class="anchor" aria-hidden="true" href="#optional-类">#</a></h1>
<p>Optional 是 Java 8 引入的防止 <code>NullPointerException</code> 的容器类，用来表示可能为空的值。</p>
<h2 id="1创建-optional">1.创建 Optional<a hidden class="anchor" aria-hidden="true" href="#1创建-optional">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">opt1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">);</span><span class="w">      </span><span class="c1">// 不允许 null</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">opt2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">ofNullable</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span><span class="w"> </span><span class="c1">// 可以为 null</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">opt3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">empty</span><span class="p">();</span><span class="w">          </span><span class="c1">// 空 Optional</span><span class="w">
</span></span></span></code></pre></div><h2 id="2-判断与获取值">2. 判断与获取值<a hidden class="anchor" aria-hidden="true" href="#2-判断与获取值">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">opt1</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">opt1</span><span class="p">.</span><span class="na">get</span><span class="p">());</span><span class="w"> </span><span class="c1">// hello</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 推荐写法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">opt1</span><span class="p">.</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span><span class="w"> </span><span class="c1">// hello</span><span class="w">
</span></span></span></code></pre></div><h2 id="3-设置默认值">3. 设置默认值<a hidden class="anchor" aria-hidden="true" href="#3-设置默认值">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opt2</span><span class="p">.</span><span class="na">orElse</span><span class="p">(</span><span class="s">&#34;default&#34;</span><span class="p">);</span><span class="w"> </span><span class="c1">// default</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">String</span><span class="w"> </span><span class="n">value2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opt2</span><span class="p">.</span><span class="na">orElseGet</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&#34;generated&#34;</span><span class="p">);</span><span class="w"> </span><span class="c1">// generated</span><span class="w">
</span></span></span></code></pre></div><h2 id="4-过滤与映射">4. 过滤与映射<a hidden class="anchor" aria-hidden="true" href="#4-过滤与映射">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opt1</span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&#34;h&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">filtered</span><span class="p">.</span><span class="na">isPresent</span><span class="p">());</span><span class="w"> </span><span class="c1">// true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opt1</span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">String</span><span class="p">::</span><span class="n">toUpperCase</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">mapped</span><span class="p">.</span><span class="na">get</span><span class="p">());</span><span class="w"> </span><span class="c1">// HELLO</span><span class="w">
</span></span></span></code></pre></div><hr>
<h1 id="集合与-stream-的整合示例">集合与 Stream 的整合示例<a hidden class="anchor" aria-hidden="true" href="#集合与-stream-的整合示例">#</a></h1>
<p>在实际开发中，集合框架和 Stream API 常常结合使用，使代码更简洁、更易读。</p>
<h2 id="1-list-集合过滤与映射">1. List 集合过滤与映射<a hidden class="anchor" aria-hidden="true" href="#1-list-集合过滤与映射">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&#34;Alice&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Bob&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Charlie&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;David&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 过滤长度大于3的名字，并转成大写</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">names</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                           </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">3</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                           </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">String</span><span class="p">::</span><span class="n">toUpperCase</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                           </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">);</span><span class="w"> </span><span class="c1">// [ALICE, CHARLIE, DAVID]</span><span class="w">
</span></span></span></code></pre></div><h2 id="2-set-集合去重与统计">2. Set 集合去重与统计<a hidden class="anchor" aria-hidden="true" href="#2-set-集合去重与统计">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">3</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">1</span><span class="p">,</span><span class="n">4</span><span class="p">,</span><span class="n">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 转成 Set 去重，并计算平方和</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="n">sumSquares</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nums</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                     </span><span class="p">.</span><span class="na">distinct</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                     </span><span class="p">.</span><span class="na">mapToInt</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                     </span><span class="p">.</span><span class="na">sum</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">sumSquares</span><span class="p">);</span><span class="w"> </span><span class="c1">// 55</span><span class="w">
</span></span></span></code></pre></div><h2 id="3-map集合处理">3. Map集合处理<a hidden class="anchor" aria-hidden="true" href="#3-map集合处理">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&#34;A&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">10</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;B&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">20</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;C&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">30</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 取值并进行过滤</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">map</span><span class="p">.</span><span class="na">entrySet</span><span class="p">().</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">entry</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="na">getValue</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">15</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">entry</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="na">getKey</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;=&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="na">getValue</span><span class="p">()));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 输出：B=20</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//       C=30</span><span class="w">
</span></span></span></code></pre></div><h2 id="4-分组与统计">4. 分组与统计<a hidden class="anchor" aria-hidden="true" href="#4-分组与统计">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&#34;apple&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;banana&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;apple&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;orange&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;banana&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 按水果名称分组计数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;</span><span class="w"> </span><span class="n">countMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                                   </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">groupingBy</span><span class="p">(</span><span class="n">f</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">Collectors</span><span class="p">.</span><span class="na">counting</span><span class="p">()));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">countMap</span><span class="p">);</span><span class="w"> </span><span class="c1">// {orange=1, banana=2, apple=2}</span><span class="w">
</span></span></span></code></pre></div><h2 id="5-并行处理">5. 并行处理<a hidden class="anchor" aria-hidden="true" href="#5-并行处理">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">largeList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IntStream</span><span class="p">.</span><span class="na">rangeClosed</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">1000</span><span class="p">).</span><span class="na">boxed</span><span class="p">().</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">largeList</span><span class="p">.</span><span class="na">parallelStream</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                   </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                   </span><span class="p">.</span><span class="na">mapToInt</span><span class="p">(</span><span class="n">Integer</span><span class="p">::</span><span class="n">intValue</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                   </span><span class="p">.</span><span class="na">sum</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span><span class="w"> </span><span class="c1">// 250500</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>总结：</p>
<ul>
<li>Stream 可以将集合转化为管道，进行高效操作。</li>
<li>collect(Collectors.toList()) / toSet() / toMap() 可将 Stream 结果收集回集合。</li>
<li>groupingBy、counting、mapping 等方法可实现复杂统计和分组。</li>
<li>并行 Stream 可充分利用多核 CPU，但要注意线程安全。</li>
</ul>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.steamedfish.top/tags/java/">Java</a></li>
      <li><a href="https://www.steamedfish.top/tags/java-se/">Java SE</a></li>
      <li><a href="https://www.steamedfish.top/tags/lambda/">Lambda</a></li>
      <li><a href="https://www.steamedfish.top/tags/oop/">OOP</a></li>
      <li><a href="https://www.steamedfish.top/tags/stream/">Stream</a></li>
      <li><a href="https://www.steamedfish.top/tags/%E6%95%99%E5%AD%A6/">教学</a></li>
      <li><a href="https://www.steamedfish.top/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">函数式编程</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://www.steamedfish.top/">©2025 SteamedFish&rsquo;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
