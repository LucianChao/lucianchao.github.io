<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>【苍穹外卖】（ 1 ）项目概览  | SteamedFish&#39;s Blog</title>
<meta name="keywords" content=" 苍穹外卖 , Swagger">
<meta name="description" content="前言
终于是把 tlias 做完了。下个阶段打算快速把苍穹外卖过一遍，不够这次的计划是，先跟着网上的视频和资料把博客写完，后面再跟着接口文档进行开发，祝我成功吧。

项目介绍
定位：专门为餐饮企业（餐厅、饭店）定制的一款软件产品
功能架构：体现项目中的业务功能模块






    


       
    




  
    
  
    
  




技术选型：展示项目中使用到的技术框架和中间件等






    


       
    




  
    
  
    
  



">
<meta name="author" content="">
<link rel="canonical" href="https://www.steamedfish.top/post/java-project/sky-take-out/sky-take-out/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.c27e1246cb66d388c2c28ba2cad7d8e45b296bdd6da67c05cf15ef27e74594b2.css" integrity="sha256-wn4SRstm04jCwouiytfY5Fspa91tpnwFzxXvJ&#43;dFlLI=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.steamedfish.top/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.steamedfish.top/favicon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.steamedfish.top/favicon.png">
<link rel="apple-touch-icon" href="https://www.steamedfish.top/favicon.png">
<link rel="mask-icon" href="https://www.steamedfish.top/favicon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://www.steamedfish.top/post/java-project/sky-take-out/sky-take-out/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>





<link
  href="/fonts/lxgw/style.css"
  rel="stylesheet"
/><meta property="og:url" content="https://www.steamedfish.top/post/java-project/sky-take-out/sky-take-out/">
  <meta property="og:site_name" content="SteamedFish&#39;s Blog">
  <meta property="og:title" content="【苍穹外卖】（ 1 ）项目概览 ">
  <meta property="og:description" content="前言 终于是把 tlias 做完了。下个阶段打算快速把苍穹外卖过一遍，不够这次的计划是，先跟着网上的视频和资料把博客写完，后面再跟着接口文档进行开发，祝我成功吧。
项目介绍 定位：专门为餐饮企业（餐厅、饭店）定制的一款软件产品
功能架构：体现项目中的业务功能模块 技术选型：展示项目中使用到的技术框架和中间件等 ">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2025-12-19T18:06:27+08:00">
    <meta property="article:modified_time" content="2025-12-23T00:29:00+08:00">
    <meta property="article:tag" content=" 苍穹外卖 ">
    <meta property="article:tag" content="Swagger">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【苍穹外卖】（ 1 ）项目概览 ">
<meta name="twitter:description" content="前言
终于是把 tlias 做完了。下个阶段打算快速把苍穹外卖过一遍，不够这次的计划是，先跟着网上的视频和资料把博客写完，后面再跟着接口文档进行开发，祝我成功吧。

项目介绍
定位：专门为餐饮企业（餐厅、饭店）定制的一款软件产品
功能架构：体现项目中的业务功能模块






    


       
    




  
    
  
    
  




技术选型：展示项目中使用到的技术框架和中间件等






    


       
    




  
    
  
    
  



">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.steamedfish.top/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "【苍穹外卖】（ 1 ）项目概览 ",
      "item": "https://www.steamedfish.top/post/java-project/sky-take-out/sky-take-out/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【苍穹外卖】（ 1 ）项目概览 ",
  "name": "【苍穹外卖】（ 1 ）项目概览 ",
  "description": "前言 终于是把 tlias 做完了。下个阶段打算快速把苍穹外卖过一遍，不够这次的计划是，先跟着网上的视频和资料把博客写完，后面再跟着接口文档进行开发，祝我成功吧。\n项目介绍 定位：专门为餐饮企业（餐厅、饭店）定制的一款软件产品\n功能架构：体现项目中的业务功能模块 技术选型：展示项目中使用到的技术框架和中间件等 ",
  "keywords": [
    " 苍穹外卖 ", "Swagger"
  ],
  "articleBody": "前言 终于是把 tlias 做完了。下个阶段打算快速把苍穹外卖过一遍，不够这次的计划是，先跟着网上的视频和资料把博客写完，后面再跟着接口文档进行开发，祝我成功吧。\n项目介绍 定位：专门为餐饮企业（餐厅、饭店）定制的一款软件产品\n功能架构：体现项目中的业务功能模块 技术选型：展示项目中使用到的技术框架和中间件等 开发环境搭建 整体结构 前端环境搭建 前端工程基于 nginx 运行 启动 nginx：双击 nginx.exe 即可启动 nginx 服务，访问端口号为 80\n后端环境搭建 后端工程基于 maven 进行项目构建，并且进行 分模块 开发 用 IDEA 打开初始工程，了解项目的整体结构 序号\r名称\r说明\r1\rsky-take-out\rmaven 父工程，统一管理依赖版本，聚合其他子模块\r2\rsky-common\r子模块，存放公共类，例如：工具类、常量类、异常类等\r3\rsky-pojo\r子模块，存放实体类、 VO、 DTO 等\r4\rsky-server\r子模块，后端服务，存放配置文件、 Controller、 Service、 Mapper 等\rsky-pojo 子模块中存放的是一些 entity、DTO、VO\n名称\r说明\rEntity\r实体，通常和数据库中的表对应\rDTO\r数据传输对象，通常用于程序中各层之间传递数据\rVO\r视图对象，为前端展示数据提供的对象\rPOJO\r普通 Java 对象，只有属性和对应的 getter 和 setter\rsky-server 子模块中存放的是配置文件、配置类、拦截器、 controller、 service、 mapper、启动类等 使用 Git 进行项目代码的版本控制，具体操作\n创建 Git 本地仓库 git init 创建远程仓库 将本地文件推送到 Git 远程仓库 数据库环境搭建 通过数据库建表语句创建数据库表结构 前后端联调 后端的初始工程中已经实现了登录功能，直接进行前后端联调测试即可 nginx 反向代理 nginx 反向代理，就是将前端发送的动态请求由 nginx 转发到后端服务器 nginx 反向代理的好处：\n提高访问速度 进行负载均衡 保证后端服务安全 所谓负载均衡，就是把大量的请求按照我们指定的方式均衡的分配给集群中的每台服务器 nginx 反向代理的配置方式： nginx 负载均衡的配置方式： nginx 负载均衡策略： 名称\r说明\r轮询\r默认方式\rweight\r权重方式，默认为 1 ，权重越高，被分配的客户端请求就越多\rip_hash\r依据 ip 分配方式，这样每个访客可以固定访问一个后端服务\rleast_conn\r依据最少连接方式，把请求优先分配给连接数少的后端服务\rurl_hash\r依据 url 分配方式，这样相同的 url 会被分配到同一个后端服务\rfair\r依据响应时间方式，响应时间短的服务将会被优先分配\r导入接口文档 记得把开发环境改为 8080 端口\nSwagger 使用 Swagger 你只需要按照它的规范去定义接口及接口相关的信息，就可以做生成接口文档，以及在线接口调试页面。\n官网： https://swagger.io/\nKnife4i 是为 JavaMVC 框架集成 Swagger 生成 Api 文档的增强解决方案。\n使用方式 导入 knife4j 的 maven 坐标 在配置类中加入 knife4j 相关配置 设置静态资源映射，否则接口文档页面无法访问 接口文档访问路径为 http://ip:port/doc.html 常用注解 通过注解可以控制生成的接口文档，使接口文档拥有更好的可读性，常用注解如下：\n注解\r说明\r@Api\r用在类上，例如 Controller，表示对类的说明\r@ApiModel\r用在类上，例如 entity、 DTO、 VO\r@ApiModelProperty\r用在属性上，描述属性信息\r@ApiOperation\r用在方法上，例如 Controller 的方法，说明方法的用途、作用\r",
  "wordCount" : "1166",
  "inLanguage": "zh",
  "datePublished": "2025-12-19T18:06:27+08:00",
  "dateModified": "2025-12-23T00:29:00+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.steamedfish.top/post/java-project/sky-take-out/sky-take-out/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "SteamedFish's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.steamedfish.top/favicon.png"
    }
  }
}
</script>
</head>

<body data-barba="wrapper" class="" id="top">

<div id="aplayer"></div>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.steamedfish.top/" accesskey="h" title="SteamedFish&#39;s Blog (Alt + H)">SteamedFish&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                    <ul class="lang-switch"><li>|</li>
                        <li>
                            <a href="https://www.steamedfish.top/en/" title="English"
                                aria-label="English">En</a>
                        </li>
                    </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.steamedfish.top/" title="首页">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/search/" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="https://www.steamedfish.top/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main" data-barba="container" data-barba-namespace="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      【苍穹外卖】（ 1 ）项目概览 
    </h1>
    <div class="post-meta">






<span title='2025-12-19 18:06:27 +0800 +0800'>2025-12-19</span>&nbsp;·&nbsp;<span title='2025-12-23 00:29:00 +0800 +0800'>(最后修改于 2025-12-23)</span>&nbsp;·&nbsp;<span>3 分钟</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%89%8d%e8%a8%80" aria-label="前言">前言</a></li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e4%bb%8b%e7%bb%8d" aria-label="项目介绍">项目介绍</a></li>
                <li>
                    <a href="#%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" aria-label="开发环境搭建">开发环境搭建</a><ul>
                        
                <li>
                    <a href="#%e6%95%b4%e4%bd%93%e7%bb%93%e6%9e%84" aria-label="整体结构">整体结构</a><ul>
                        
                <li>
                    <a href="#%e5%89%8d%e7%ab%af%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" aria-label="前端环境搭建">前端环境搭建</a></li>
                <li>
                    <a href="#%e5%90%8e%e7%ab%af%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" aria-label="后端环境搭建">后端环境搭建</a></li>
                <li>
                    <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" aria-label="数据库环境搭建">数据库环境搭建</a></li>
                <li>
                    <a href="#%e5%89%8d%e5%90%8e%e7%ab%af%e8%81%94%e8%b0%83" aria-label="前后端联调">前后端联调</a></li>
                <li>
                    <a href="#nginx-%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86" aria-label="nginx 反向代理">nginx 反向代理</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%af%bc%e5%85%a5%e6%8e%a5%e5%8f%a3%e6%96%87%e6%a1%a3" aria-label="导入接口文档">导入接口文档</a></li>
                <li>
                    <a href="#swagger" aria-label="Swagger">Swagger</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f" aria-label="使用方式">使用方式</a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%b3%a8%e8%a7%a3" aria-label="常用注解">常用注解</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="前言">前言<a hidden class="anchor" aria-hidden="true" href="#前言">#</a></h2>
<p>终于是把 tlias 做完了。下个阶段打算快速把苍穹外卖过一遍，不够这次的计划是，先跟着网上的视频和资料把博客写完，后面再跟着接口文档进行开发，祝我成功吧。</p>
<hr>
<h2 id="项目介绍">项目介绍<a hidden class="anchor" aria-hidden="true" href="#项目介绍">#</a></h2>
<p>定位：专门为餐饮企业（餐厅、饭店）定制的一款软件产品<br>
功能架构：体现项目中的业务功能模块






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/1.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/1.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/1.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



技术选型：展示项目中使用到的技术框架和中间件等






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/2.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/2.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/2.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</p>
<hr>
<h2 id="开发环境搭建">开发环境搭建<a hidden class="anchor" aria-hidden="true" href="#开发环境搭建">#</a></h2>
<h3 id="整体结构">整体结构<a hidden class="anchor" aria-hidden="true" href="#整体结构">#</a></h3>
<p>





    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/3.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/3.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/3.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</p>
<hr>
<h4 id="前端环境搭建">前端环境搭建<a hidden class="anchor" aria-hidden="true" href="#前端环境搭建">#</a></h4>
<p>前端工程基于 <code>nginx</code> 运行






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/4.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/4.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/4.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



启动 nginx：双击 <code>nginx.exe</code> 即可启动 nginx 服务，访问端口号为 <code>80</code></p>
<hr>
<h4 id="后端环境搭建">后端环境搭建<a hidden class="anchor" aria-hidden="true" href="#后端环境搭建">#</a></h4>
<p>后端工程基于 <code>maven</code> 进行项目构建，并且进行 <strong>分模块</strong> 开发






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/5.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/5.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/5.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



用 IDEA 打开初始工程，了解项目的整体结构






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/6.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/6.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/6.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</p>




<table>

    <thead>
      <tr>
          <th style="text-align: center">序号</th>
          <th style="text-align: center">名称</th>
          <th style="text-align: center">说明</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">1</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>sky-take-out</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">maven 父工程，统一管理依赖版本，聚合其他子模块</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">2</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>sky-common</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">子模块，存放公共类，例如：工具类、常量类、异常类等</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">3</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>sky-pojo</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">子模块，存放实体类、 VO、 DTO 等</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">4</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>sky-server</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">子模块，后端服务，存放配置文件、 Controller、 Service、 Mapper 等</td>
      </tr>
  </tbody>
</table><p><code>sky-pojo</code> 子模块中存放的是一些 <code>entity</code>、<code>DTO</code>、<code>VO</code></p>




<table>

    <thead>
      <tr>
          <th style="text-align: center">名称</th>
          <th style="text-align: center">说明</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>Entity</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">实体，通常和数据库中的表对应</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>DTO</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">数据传输对象，通常用于程序中各层之间传递数据</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>VO</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">视图对象，为前端展示数据提供的对象</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>POJO</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">普通 Java 对象，只有属性和对应的 getter 和 setter</td>
      </tr>
  </tbody>
</table><p><code>sky-server</code> 子模块中存放的是配置文件、配置类、拦截器、 controller、 service、 mapper、启动类等






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/7.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/7.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/7.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</p>
<hr>
<p>使用 Git 进行项目代码的版本控制，具体操作</p>
<ul>
<li>创建 Git 本地仓库
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git init
</span></span></code></pre></div></li>
</ul>
<p>





    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/8.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/8.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/8.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>









    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/9.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/9.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/9.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</p>
<ul>
<li>创建远程仓库</li>
<li>将本地文件推送到 Git 远程仓库






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/10.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/10.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/10.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</li>
</ul>
<hr>
<h4 id="数据库环境搭建">数据库环境搭建<a hidden class="anchor" aria-hidden="true" href="#数据库环境搭建">#</a></h4>
<p>通过数据库建表语句创建数据库表结构






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/11.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/11.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/11.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</p>
<hr>
<h4 id="前后端联调">前后端联调<a hidden class="anchor" aria-hidden="true" href="#前后端联调">#</a></h4>
<p>后端的初始工程中已经实现了登录功能，直接进行前后端联调测试即可






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/12.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/12.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/12.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</p>
<hr>
<h4 id="nginx-反向代理">nginx 反向代理<a hidden class="anchor" aria-hidden="true" href="#nginx-反向代理">#</a></h4>
<p>nginx 反向代理，就是将前端发送的动态请求由 nginx 转发到后端服务器






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/13.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/13.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/13.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>









    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/14.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/14.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/14.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



nginx 反向代理的好处：</p>
<ul>
<li>提高访问速度</li>
<li>进行负载均衡</li>
<li>保证后端服务安全
<ul>
<li>所谓负载均衡，就是把大量的请求按照我们指定的方式均衡的分配给集群中的每台服务器






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/15.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/15.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/15.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



nginx 反向代理的配置方式：






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/16.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/16.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/16.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



nginx 负载均衡的配置方式：






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/17.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/17.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/17.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



nginx 负载均衡策略：




<table>

    <thead>
      <tr>
          <th style="text-align: center">名称</th>
          <th style="text-align: center">说明</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">轮询</td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">默认方式</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>weight</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">权重方式，默认为 1 ，权重越高，被分配的客户端请求就越多</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>ip_hash</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">依据 ip 分配方式，这样每个访客可以固定访问一个后端服务</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>least_conn</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">依据最少连接方式，把请求优先分配给连接数少的后端服务</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>url_hash</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">依据 url 分配方式，这样相同的 url 会被分配到同一个后端服务</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center"><code>fair</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: center">依据响应时间方式，响应时间短的服务将会被优先分配</td>
      </tr>
  </tbody>
</table></li>
</ul>
</li>
</ul>
<hr>
<h3 id="导入接口文档">导入接口文档<a hidden class="anchor" aria-hidden="true" href="#导入接口文档">#</a></h3>
<p>





    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/18.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/18.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/18.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



记得把开发环境改为 8080 端口</p>
<hr>
<h3 id="swagger">Swagger<a hidden class="anchor" aria-hidden="true" href="#swagger">#</a></h3>
<p>使用 Swagger 你只需要按照它的规范去定义接口及接口相关的信息，就可以做生成接口文档，以及在线接口调试页面。<br>
官网： <a href="https://swagger.io/">https://swagger.io/</a></p>
<p><a href="https://doc.xiaominfo.com/">Knife4i</a> 是为 JavaMVC 框架集成 Swagger 生成 Api 文档的增强解决方案。</p>
<hr>
<h4 id="使用方式">使用方式<a hidden class="anchor" aria-hidden="true" href="#使用方式">#</a></h4>
<ol>
<li>导入 knife4j 的 maven 坐标






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/19.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/19.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/19.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</li>
<li>在配置类中加入 knife4j 相关配置






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/20.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/20.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/20.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>


</li>
<li>设置静态资源映射，否则接口文档页面无法访问






    


       
    



<div class="post-img-view">
  <a
    data-fancybox="post-post/java-project/sky-take-out/sky-take-out-1/index.md"
    href="/post/java-project/sky-take-out/sky-take-out/21.webp"
    data-caption=""
    data-barba-prevent="all"
  >
    <img
      src="/post/java-project/sky-take-out/sky-take-out/21.webp"
      srcset="/post/java-project/sky-take-out/sky-take-out/21.webp 2x"
      alt=""
      loading="lazy"
      style="max-width: 100%; height: auto;"
    />
  </a>
    
  
</div>



接口文档访问路径为 http://ip:port/doc.html</li>
</ol>
<hr>
<h4 id="常用注解">常用注解<a hidden class="anchor" aria-hidden="true" href="#常用注解">#</a></h4>
<p>通过注解可以控制生成的接口文档，使接口文档拥有更好的可读性，常用注解如下：</p>




<table>

    <thead>
      <tr>
          <th style="text-align: left">注解</th>
          <th style="text-align: left">说明</th>
      </tr>
    </thead>
    <tbody>
    
    
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left"><code>@Api</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left">用在类上，例如 Controller，表示对类的说明</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left"><code>@ApiModel</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left">用在类上，例如 entity、 DTO、 VO</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left"><code>@ApiModelProperty</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left">用在属性上，描述属性信息</td>
      </tr>
        
        
        
      <tr>
        
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left"><code>@ApiOperation</code></td>
            
            
            
            
            
                
                
                
                
                
                
                
                
                
                
                
                <td rowspan="1" colspan="1" style="text-align: left">用在方法上，例如 Controller 的方法，说明方法的用途、作用</td>
      </tr>
  </tbody>
</table>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.steamedfish.top/tags/-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96-/"> 苍穹外卖 </a></li>
      <li><a href="https://www.steamedfish.top/tags/swagger/">Swagger</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://www.steamedfish.top/">©2025 SteamedFish&rsquo;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>
<script src="https://unpkg.com/@barba/core"></script>


<script>
  window.PaperMod = window.PaperMod || {};
  PaperMod.state = { once: false };

  PaperMod.initOnce = function () {
    if (PaperMod.state.once) return;
    PaperMod.state.once = true;

    console.log("PaperMod initOnce");

    if (PaperMod.initAPlayer) {
      PaperMod.initAPlayer();
    }
  };

  PaperMod.initPage = function (container = document) {
    console.log("PaperMod initPage");

    PaperMod.initFancybox && PaperMod.initFancybox(container);
    PaperMod.initCodeCopyButtons && PaperMod.initCodeCopyButtons(container);
  };

  barba.init({
    transitions: [
      {
        name: "default",
        leave() {
          return Promise.resolve();
        },
        enter(data) {
          PaperMod.initOnce();
          PaperMod.initPage(data.next.container);
        },
      },
    ],
  });
  
  document.addEventListener("DOMContentLoaded", () => {
    PaperMod.initOnce();
    PaperMod.initPage(document);
  });
</script>







<link
  href="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.css"
  rel="stylesheet"
/>
<script src="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/meting/2.0.2/Meting.min.js"></script>
<script>
  window.PaperMod = window.PaperMod || {};
  console.log("player.js loaded");
  PaperMod.initAPlayer = async function () {
    if (window.__aplayer_inited__) {
      console.log("APlayer already exists, skip");
      return;
    }

    const container = document.getElementById("aplayer");
    if (!container) {
      console.warn("APlayer container not found");
      return;
    }

    console.log("Init APlayer");
    

    const localAudio = [
      
      
      
      
      
      
      
      
    ];

    

    let metingAudio = [];
    try {
      const res = await fetch(
        
        
        
        
        "https://api.qijieya.cn/meting/?type=playlist&id=4968737249"
      );
      metingAudio = await res.json();
    } catch (e) {
      console.warn("Meting load failed, fallback to local only");
    }

    

    const audioList = [...localAudio, ...metingAudio];

    window.aplayer = new APlayer({
      container,
      fixed: true,
      autoplay: true,
      preload: "auto",
      lrcType: 1,
      
      audio: metingAudio,
    });
    console.log("APlayer created with", audioList.length, "tracks");
  };
</script>



<script>
  window.PaperMod = window.PaperMod || {};

  PaperMod.initCodeCopyButtons = function (root = document) {
    root.querySelectorAll("pre > code").forEach((codeblock) => {
      const container = codeblock.parentNode.parentNode;

      
      if (container.querySelector(".copy-code")) return;

      const copybutton = document.createElement("button");
      copybutton.classList.add("copy-code");
      copybutton.innerHTML = '复制';

      function copyingDone() {
        copybutton.innerHTML = '已复制！';
        setTimeout(() => {
          copybutton.innerHTML = '复制';
        }, 2000);
      }

      copybutton.addEventListener("click", (cb) => {
        if ("clipboard" in navigator) {
          navigator.clipboard.writeText(codeblock.textContent);
          copyingDone();
          return;
        }

        const range = document.createRange();
        range.selectNodeContents(codeblock);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        try {
          document.execCommand("copy");
          copyingDone();
        } catch (e) {}
        selection.removeRange(range);
      });
      container.appendChild(copybutton);
    });
  };
</script>


<link rel="stylesheet" href="/lib/fancybox/fancybox.css" />
<script src="/lib/fancybox/fancybox.umd.js"></script>
<script>
  function initFancybox() {
    Fancybox.unbind("[data-fancybox]");

    Fancybox.bind("[data-fancybox]", {
      animated: true,
      showClass: "fancybox-fadeIn",
      hideClass: "fancybox-fadeOut",
      dragToClose: true,
    });
  }

  
  if (document.readyState !== "loading") {
    initFancybox();
  } else {
    document.addEventListener("DOMContentLoaded", initFancybox);
  }
  
  document.addEventListener("barba:afterEnter", initFancybox);
</script>







<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
